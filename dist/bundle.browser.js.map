{"version":3,"file":"bundle.browser.js","sources":["../src/browser/components/AdminPageContext.ts","../src/common/apiRoutes.ts","../src/browser/ApiClient.ts","../node_modules/classnames/index.js","../node_modules/style-inject/dist/style-inject.es.js","../src/browser/components/Loading/Loading.tsx","../src/browser/components/UiFlowLayout/UiFlowLayout.tsx","../src/browser/components/UiCard/UiCard.tsx","../src/browser/components/UiCardContent/UiCardContent.tsx","../src/browser/components/UiCardTitle/UiCardTitle.tsx","../src/browser/components/UiLoadingCard/UiLoadingCard.tsx","../src/browser/components/UiOverlay/OverlayManager.ts","../src/browser/components/UiOverlay/UiOverlay.tsx","../src/browser/components/UiTabs/UiTab.tsx","../src/browser/components/UiButton/UiButton.tsx","../src/browser/components/UiTabs/UiTabs.tsx","../src/browser/components/ModuleManagerPage/AddModuleCard/AddModuleCard.tsx","../src/browser/components/ModuleManagerPage/CommandResult/CommandResult.tsx","../src/browser/components/UiCardButtonRow/UiCardButtonRow.tsx","../src/browser/components/ModuleManagerPage/ModuleCard/ModuleCard.tsx","../src/browser/components/ModuleManagerPage/UpdateModulesCard/UpdateModulesCard.tsx","../src/browser/components/ModuleManagerPage/ModuleCatalog/ModuleCatalog.tsx","../src/browser/components/ModuleManagerPage/ModuleManagerPage.tsx","../src/browser/components/Navigation/Navigation.tsx","../src/browser/components/confirmDialog.ts","../src/common/optionsHelper.ts","../node_modules/guid-typescript/dist/guid.js","../src/browser/components/OptionItem/InputControls/ArrayInputControl/ArrayForm.tsx","../src/browser/components/OptionItem/InputControls/ArrayInputControl/ArrayControlsProvider.tsx","../src/browser/components/OptionItem/InputControls/BooleanInputControl/BooleanInputControl.tsx","../src/browser/components/OptionItem/InputControls/BooleanInputControl/BooleanControlsProvider.ts","../src/browser/components/OptionItem/InputControls/NumberControlsProvider.tsx","../src/browser/components/OptionItem/InputControls/ObjectControlsProvider.tsx","../src/browser/components/OptionItem/InputControls/StyleInputControl/StyleForm.tsx","../src/browser/components/OptionItem/InputControls/StyleInputControl/StyleControlsProvider.tsx","../src/browser/components/OptionItem/InputControls/TextControlsProvider.tsx","../src/browser/components/OptionItem/InputControls/ValuesInputControl/ValuesInputControl.tsx","../src/browser/components/OptionItem/InputControls/ValuesInputControl/ValuesControlsProvider.tsx","../src/browser/components/OptionCard/SimpleEvent.ts","../src/browser/components/OptionCard/OptionCardContext.ts","../src/browser/components/OptionItem/InputControls/WebComponentInputControl/WebComponentForm.tsx","../src/browser/components/OptionItem/InputControls/WebComponentInputControl/WebComponentControlsProvider.tsx","../src/browser/components/OptionItem/InputControls/getInputControls.tsx","../src/browser/components/OptionItem/OptionItem.tsx","../src/browser/components/OptionList/OptionList.tsx","../src/browser/components/OptionCard/OptionCard.tsx","../src/browser/components/PageManagerPage/PageCard/PageCard.tsx","../src/browser/components/PageManagerPage/pageOptionsFields.tsx","../src/browser/components/PageManagerPage/PageManagerPage.tsx","../src/browser/components/RoundButton/RoundButton.tsx","../src/browser/components/ServiceManagerPage/ServiceCard/ServiceCard.tsx","../src/browser/components/ServiceManagerPage/ServiceGroup/ServiceGroup.tsx","../src/browser/components/ServiceManagerPage/ServiceManagerPage.tsx","../src/browser/components/SettingsManagerPage/PageInputControl.tsx","../src/browser/components/SettingsManagerPage/systemSettingsFields.tsx","../src/browser/components/SettingsManagerPage/SettingsManagerPage.tsx","../src/browser/components/SystemPage/SystemPage.tsx","../src/browser/components/Admin/Admin.tsx","../src/browser/index.ts"],"sourcesContent":["import { IReactronComponentContext } from \"@schirkan/reactron-interfaces\";\r\nimport * as React from \"react\";\r\n\r\nexport const AdminPageContext = React.createContext<IReactronComponentContext>({} as IReactronComponentContext);","import { ICommandResult, IModuleRepositoryItem, IServiceRepositoryItem, ISystemSettings, IWebComponentOptions, IWebPageOptions } from '@schirkan/reactron-interfaces';\r\nimport { IServerInfo } from '../common/interfaces/IServerInfo';\r\n\r\nexport class ApiRoute<TParams, TBody, TResponse = void>{\r\n    constructor(\r\n        public path: string,\r\n        public method: string\r\n    ) { }\r\n}\r\n\r\nexport const routes = {\r\n    getServices: new ApiRoute<undefined, undefined, IServiceRepositoryItem[]>('/service/', 'get'),\r\n    getServiceOptions: new ApiRoute<{ moduleName: string, serviceName: string }, undefined, object>('/service/:moduleName/:serviceName', 'get'),\r\n    setServiceOptions: new ApiRoute<{ moduleName: string, serviceName: string }, object>('/service/:moduleName/:serviceName', 'post'),\r\n\r\n    getModules: new ApiRoute<undefined, undefined, IModuleRepositoryItem[]>('/modules/', 'get'),\r\n    addModule: new ApiRoute<undefined, { repository: string }, ICommandResult[]>('/modules/', 'post'),\r\n    deleteModule: new ApiRoute<{ moduleName: string }, undefined, ICommandResult[]>('/modules/:moduleName', 'delete'),\r\n    rebuildModule: new ApiRoute<{ moduleName: string }, undefined, ICommandResult[]>('/modules/:moduleName/rebuild', 'post'),\r\n    updateModule: new ApiRoute<{ moduleName: string }, undefined, ICommandResult[]>('/modules/:moduleName/update', 'post'),\r\n    checkUpdates: new ApiRoute<{ moduleName: string }, undefined, ICommandResult[]>('/modules/checkUpdates/update', 'get'),\r\n\r\n    getWebPages: new ApiRoute<undefined, undefined, IWebPageOptions[]>('/pages/', 'get'),\r\n    setWebPage: new ApiRoute<undefined, IWebPageOptions, IWebPageOptions>('/pages/', 'post'),\r\n    deleteWebPage: new ApiRoute<{ id: string }, undefined>('/pages/:id', 'delete'),\r\n\r\n    getServerInfo: new ApiRoute<undefined, undefined, IServerInfo>('/app/', 'get'),\r\n    exitApplication: new ApiRoute<undefined, undefined>('/app/exitApplication', 'post'),\r\n    restartApplication: new ApiRoute<undefined, undefined>('/app/restartApplication', 'post'),\r\n    shutdownSystem: new ApiRoute<undefined, undefined>('/app/shutdownSystem', 'post'),\r\n    rebootSystem: new ApiRoute<undefined, undefined>('/app/restartSystem', 'post'),\r\n    resetApplication: new ApiRoute<undefined, undefined>('/app/resetApplication', 'post'),\r\n    \r\n    getSettings: new ApiRoute<undefined, undefined, ISystemSettings>('/settings/', 'get'),\r\n    setSettings: new ApiRoute<undefined, ISystemSettings>('/settings/', 'post'),\r\n\r\n    getWebComponentOptions: new ApiRoute<undefined, undefined, IWebComponentOptions[]>('/components/', 'get'),\r\n    setWebComponentOptions: new ApiRoute<undefined, IWebComponentOptions, IWebComponentOptions>('/components/', 'post'),\r\n    deleteWebComponentOptions: new ApiRoute<{ id: string }, undefined>('/components/:id', 'delete'),\r\n};","import { ApiRoute, routes } from '../common/apiRoutes';\r\n\r\nexport class ApiClient {\r\n    public getAllServices = apiCall(routes.getServices, true);\r\n    public getServiceOptions = apiCall(routes.getServiceOptions);\r\n    public setServiceOptions = apiCall(routes.setServiceOptions);\r\n\r\n    public getModules = apiCall(routes.getModules, true);\r\n    public addModule = apiCall(routes.addModule);\r\n    public checkUpdates = apiCall(routes.checkUpdates);\r\n    public deleteModule = apiCall(routes.deleteModule);\r\n    public rebuildModule = apiCall(routes.rebuildModule);\r\n    public updateModule = apiCall(routes.updateModule);\r\n\r\n    public getWebPages = apiCall(routes.getWebPages, true);\r\n    public setWebPage = apiCall(routes.setWebPage);\r\n    public deleteWebPage = apiCall(routes.deleteWebPage);\r\n\r\n    public getServerInfo = apiCall(routes.getServerInfo);\r\n    public exitApplication = apiCall(routes.exitApplication);\r\n    public restartApplication = apiCall(routes.restartApplication);\r\n    public shutdownSystem = apiCall(routes.shutdownSystem);\r\n    public rebootSystem = apiCall(routes.rebootSystem);\r\n    public resetApplication = apiCall(routes.resetApplication);\r\n\r\n    public getSettings = apiCall(routes.getSettings, true);\r\n    public setSettings = apiCall(routes.setSettings);\r\n\r\n    public getWebComponentOptions = apiCall(routes.getWebComponentOptions, true);\r\n    public setWebComponentOptions = apiCall(routes.setWebComponentOptions);\r\n    public deleteWebComponentOptions = apiCall(routes.deleteWebComponentOptions);\r\n\r\n    public clearCache() {\r\n        Object.keys(this).forEach(key => {\r\n            if (this[key] && this[key].clearCache) {\r\n                this[key].clearCache();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\ninterface IApiCall<TParams, TBody, TResponse> {\r\n    (params?: TParams, body?: TBody): Promise<TResponse>;\r\n    clearCache: () => void;\r\n}\r\n\r\nconst apiCall = <TParams, TBody, TResponse>(\r\n    route: ApiRoute<TParams, TBody, TResponse>,\r\n    cacheResponse: boolean = false) => {\r\n    let cache: any;\r\n    const method = route.method.toLocaleLowerCase();\r\n\r\n    const call: any = (params: TParams, data: TBody): Promise<TResponse> => {\r\n        if (cacheResponse && cache) {\r\n            return Promise.resolve(cache);\r\n        }\r\n\r\n        let path = route.path;\r\n        // replace params in path\r\n        if (params) {\r\n            Object.keys(params).forEach(key => {\r\n                path = path.replace(':' + key, params[key]);\r\n            });\r\n        }\r\n        return fetch('/api/modules/reactron' + path, { // inernalModuleContext.moduleApiPath\r\n            method,\r\n            body: data && JSON.stringify(data),\r\n            headers: {\r\n                \"Content-Type\": \"application/json; charset=utf-8\",\r\n            }\r\n        })\r\n            .then(async response => {\r\n                const text = await response.text();\r\n\r\n                if (response.status.toString().startsWith('2')) {\r\n                    if (!text) {\r\n                        return undefined;\r\n                    }\r\n                    return JSON.parse(text);\r\n                }\r\n\r\n                console.log(text);\r\n                throw Error(text);\r\n            })\r\n            .then(response => {\r\n                if (cacheResponse) {\r\n                    cache = response;\r\n                }\r\n                return response;\r\n            });\r\n    };\r\n\r\n    call.clearCache = () => {\r\n        cache = undefined;\r\n    };\r\n\r\n    return call as IApiCall<TParams, TBody, TResponse>;\r\n};\r\n\r\nexport const apiClient = new ApiClient();","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import * as SvgIcons from '@fortawesome/free-solid-svg-icons';\r\nimport * as FontAwesome from '@fortawesome/react-fontawesome';\r\nimport classname from 'classnames';\r\nimport * as React from 'react';\r\nimport { ILoadingProps } from './ILoadingProps';\r\n\r\nimport './Loading.scss';\r\n\r\nexport default class Loading extends React.Component<ILoadingProps> {\r\n  public static defaultProps: Partial<ILoadingProps> = {\r\n    iconSize: \"4x\"\r\n  };\r\n\r\n  public render() {\r\n    return (\r\n      <section className={classname('Loading', { 'center': this.props.center })}>\r\n        <FontAwesome.FontAwesomeIcon icon={SvgIcons.faSpinner} size={this.props.iconSize} spin={true} />\r\n        {this.props.text && (\r\n          <div className=\"text\">{this.props.text}</div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import classname from 'classnames';\r\nimport * as React from 'react';\r\nimport { IUiComponentProps } from '../IUiComponentProps';\r\n\r\nimport './UiFlowLayout.scss';\r\n\r\nexport default class UiFlowLayout extends React.Component<IUiComponentProps> {\r\n  private renderChildren() {\r\n    if (Array.isArray(this.props.children)) {\r\n      return this.props.children.map((child, index) => <div key={index}>{child}</div>);\r\n    } else {\r\n      return <div>{this.props.children}</div>;\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <section className={classname('UiFlowLayout', this.props.className)} style={this.props.style}>\r\n        {this.renderChildren()}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import classname from 'classnames';\r\nimport * as React from 'react';\r\nimport { IUiComponentProps } from '../IUiComponentProps';\r\n\r\nimport './UiCard.scss';\r\n\r\nexport default class UiCard extends React.Component<IUiComponentProps> {\r\n  public render() {\r\n    return (\r\n      <section className={classname('UiCard', this.props.className)} style={this.props.style}>\r\n        {this.props.children}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import classname from 'classnames';\r\nimport * as React from 'react';\r\nimport { IUiComponentProps } from '../IUiComponentProps';\r\n\r\nimport './UiCardContent.scss';\r\n\r\nexport default class UiCardContent extends React.Component<IUiComponentProps> {\r\n  public render() {\r\n    return (\r\n      <div className={classname('UiCardContent', this.props.className)} style={this.props.style}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import classname from 'classnames';\r\nimport * as React from 'react';\r\nimport { IUiComponentProps } from '../IUiComponentProps';\r\n\r\nimport './UiCardTitle.scss';\r\n\r\nexport default class UiCardTitle extends React.Component<IUiComponentProps> {\r\n  public render() {\r\n    return (\r\n      <div className={classname('UiCardTitle', this.props.className)} style={this.props.style}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport Loading from '../Loading/Loading';\r\nimport UiCard from '../UiCard/UiCard';\r\nimport UiCardContent from '../UiCardContent/UiCardContent';\r\nimport UiCardTitle from '../UiCardTitle/UiCardTitle';\r\n\r\nimport './UiLoadingCard.scss';\r\n\r\n// tslint:disable-next-line:no-empty-interface\r\nexport interface IUiLoadingCardProps {\r\n  // TODO\r\n}\r\n\r\nexport default class UiLoadingCard extends React.Component<IUiLoadingCardProps> {\r\n  public render() {\r\n    return (\r\n      <UiCard className=\"UiLoadingCard\">\r\n        <UiCardTitle>\r\n          Loading...\r\n        </UiCardTitle>\r\n        <UiCardContent>\r\n          <Loading />\r\n        </UiCardContent>\r\n      </UiCard>\r\n    );\r\n  }\r\n}\r\n","import UiOverlay from './UiOverlay';\r\n\r\nclass OverlayManager {\r\n  private items: UiOverlay[] = [];\r\n\r\n  public add(instance: UiOverlay) {\r\n    if (this.items.length > 0) {\r\n      const lastItem = this.items[this.items.length - 1];\r\n      lastItem.hide();\r\n    }\r\n    this.items.push(instance);\r\n  }\r\n\r\n  public remove(instance: UiOverlay) {\r\n    const index = this.items.indexOf(instance);\r\n    if (index >= 0) {\r\n      this.items.splice(index);\r\n      if (this.items.length > 0) {\r\n        const lastItem = this.items[this.items.length - 1];\r\n        lastItem.show();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport const overlayManager = new OverlayManager();","import classname from 'classnames';\r\nimport * as React from 'react';\r\nimport { IUiComponentProps } from '../IUiComponentProps';\r\nimport { overlayManager } from './OverlayManager';\r\n\r\nimport './UiOverlay.scss';\r\n\r\ninterface IUiComponentState {\r\n  visible: boolean;\r\n}\r\n\r\nexport default class UiOverlay extends React.Component<IUiComponentProps, IUiComponentState> {\r\n  constructor(props: IUiComponentProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      visible: true\r\n    };\r\n  }\r\n\r\n  public componentDidMount() {\r\n    overlayManager.add(this);\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    overlayManager.remove(this);\r\n  }\r\n\r\n  public show() {\r\n    this.setState({ visible: true });\r\n  }\r\n  public hide() {\r\n    this.setState({ visible: false });\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div hidden={!this.state.visible} className={classname('UiOverlay', this.props.className)} style={this.props.style}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import classname from 'classnames';\r\nimport * as React from 'react';\r\nimport { IUiComponentProps } from '../IUiComponentProps';\r\n\r\ninterface IUiTabProps extends IUiComponentProps {\r\n  title: string;\r\n}\r\n\r\nexport default class UiTab extends React.Component<IUiTabProps> {\r\n  public render() {\r\n    return (\r\n      <div className={classname('UiTab', this.props.className)} style={this.props.style}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}","import classname from 'classnames';\r\nimport * as React from 'react';\r\nimport { IUiComponentProps } from \"../IUiComponentProps\";\r\n\r\nimport './UiButton.scss';\r\n\r\nexport interface IUiButtonProps extends IUiComponentProps {\r\n  disabled?: boolean;\r\n  onClick?: () => any;\r\n}\r\n\r\ninterface IUiButtonState {\r\n  running: boolean;\r\n}\r\n\r\nexport default class UiButton extends React.Component<IUiButtonProps, IUiButtonState> {\r\n  private disposed = false;\r\n\r\n  constructor(props: IUiButtonProps) {\r\n    super(props);\r\n\r\n    this.state = { running: false };\r\n\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n\r\n  private onClick(e: React.MouseEvent) {    \r\n    if (!this.props.onClick || this.props.disabled || this.state.running) {\r\n      return;\r\n    }\r\n    e.preventDefault();\r\n    e.bubbles = false;\r\n    e.stopPropagation();\r\n    \r\n    this.setState({ running: true }, () => {\r\n      Promise.resolve(this.props.onClick && this.props.onClick())\r\n        .catch()\r\n        .then(() => {\r\n          if (!this.disposed) {\r\n            this.setState({ running: false });\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    this.disposed = true;\r\n  }\r\n\r\n  public render() {\r\n    const className = classname('UiButton', 'clickable',\r\n      this.props.className, { 'disabled': this.props.disabled || this.state.running });\r\n\r\n    return (\r\n      <div className={className} onClick={this.onClick} style={this.props.style}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import classname from 'classnames';\r\nimport * as React from 'react';\r\nimport { IUiComponentProps } from '../IUiComponentProps';\r\nimport UiButton from '../UiButton/UiButton';\r\nimport UiTab from './UiTab';\r\n\r\nimport './UiTabs.scss';\r\n\r\ninterface IUiTabsState {\r\n  selectedTabIndex: number;\r\n}\r\n\r\nexport default class UiTabs extends React.Component<IUiComponentProps, IUiTabsState> {\r\n  constructor(props: IUiComponentProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedTabIndex: 0\r\n    };\r\n  }\r\n\r\n  private renderTabHeader(tab: UiTab, index: number) {\r\n    if (!tab || !tab.props || !tab.props.title) {\r\n      return null;\r\n    }\r\n    const toggleSelectedTab = () => this.setState({ selectedTabIndex: index });\r\n    const className = classname('UiTabHeader', { 'selected': this.state.selectedTabIndex === index });\r\n    return (\r\n      <UiButton key={index} className={className} onClick={toggleSelectedTab}>\r\n        {tab.props.title}\r\n      </UiButton>\r\n    );\r\n  }\r\n\r\n  private renderTabHeaders() {\r\n    if (!this.props.children) {\r\n      return null;\r\n    }\r\n    const tabs = this.props.children as UiTab[];\r\n    return (\r\n      <header>\r\n        {tabs.map((tab, index) => this.renderTabHeader(tab, index))}\r\n      </header>\r\n    );\r\n  }\r\n\r\n  private renderTabContents() {\r\n    if (!this.props.children) {\r\n      return null;\r\n    }\r\n    return this.props.children[this.state.selectedTabIndex];\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <section className={classname('UiTabs', this.props.className)} style={this.props.style}>\r\n        {this.renderTabHeaders()}\r\n        {this.renderTabContents()}\r\n      </section>\r\n    );\r\n  }\r\n}","import * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport UiButton from '../../UiButton/UiButton';\r\nimport UiCard from '../../UiCard/UiCard';\r\n\r\nimport './AddModuleCard.scss';\r\n\r\nexport interface IAddModuleCardProps {\r\n  onAdd: (repository: string | null) => void;\r\n}\r\n\r\nexport default class AddModuleCard extends React.Component<IAddModuleCardProps> {\r\n  public render() {\r\n    let input: HTMLInputElement | null;\r\n    const onAdd = () => this.props.onAdd(input && input.value);\r\n\r\n    return (\r\n      <UiCard className=\"AddModuleCard\">\r\n        <input ref={el => input = el} placeholder=\"GitHub Repository URL\" />\r\n        <UiButton className=\"addButton\" onClick={onAdd}>\r\n          <FontAwesomeIcon icon={SolidIcons.faPlus} /> Add\r\n        </UiButton>\r\n      </UiCard>\r\n    );\r\n  }\r\n}\r\n","import * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ICommandResult } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport UiButton from '../../UiButton/UiButton';\r\nimport UiCard from '../../UiCard/UiCard';\r\nimport UiCardContent from '../../UiCardContent/UiCardContent';\r\nimport UiCardTitle from '../../UiCardTitle/UiCardTitle';\r\n\r\nimport './CommandResult.scss';\r\n\r\nexport interface ICommandResultProps {\r\n  results: ICommandResult[];\r\n  onClose: () => void;\r\n}\r\n\r\nexport default class CommandResult extends React.Component<ICommandResultProps> {\r\n  constructor(props: ICommandResultProps) {\r\n    super(props);\r\n  }\r\n\r\n  public renderCommandResult(result: ICommandResult, key: string) {\r\n    const icon = result.success === false ?\r\n      <FontAwesomeIcon icon={SolidIcons.faTimes} /> :\r\n      result.success === true ?\r\n        <FontAwesomeIcon icon={SolidIcons.faCheck} /> :\r\n        <FontAwesomeIcon icon={SolidIcons.faQuestion} />;\r\n\r\n    let log: JSX.Element | undefined;\r\n    if (result.log && result.log.length) {\r\n      log = (\r\n        <ul className=\"log\">\r\n          {result.log.map((item, i) => <li key={i}>{item}</li>)}\r\n        </ul>\r\n      );\r\n    }\r\n\r\n    let title = result.command || '';\r\n    if (result.args) {\r\n      title += ' | args: ' + result.args;\r\n    }\r\n\r\n    return (\r\n      <React.Fragment key={key}>\r\n        <div className=\"result\">\r\n          <div className=\"commandTitle\">{icon} {title}</div>\r\n          {log}\r\n        </div>\r\n        {result.children && result.children.map((child, index) =>\r\n          this.renderCommandResult(child, key + '.' + index))}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <UiCard className=\"CommandResult\">\r\n        <UiCardTitle>\r\n          Result\r\n          <UiButton onClick={this.props.onClose}>\r\n            <FontAwesomeIcon icon={SolidIcons.faTimes} />\r\n          </UiButton>\r\n        </UiCardTitle>\r\n        <UiCardContent>\r\n          {this.props.results.map((item, index) => this.renderCommandResult(item, index.toString()))}\r\n        </UiCardContent>\r\n      </UiCard>\r\n    );\r\n  }\r\n}\r\n","import classname from 'classnames';\r\nimport * as React from 'react';\r\nimport { IUiComponentProps } from '../IUiComponentProps';\r\n\r\nimport './UiCardButtonRow.scss';\r\n\r\nexport interface IUiCardButtonRowProps extends IUiComponentProps {\r\n  divider?: 'full' | 'half';\r\n}\r\n\r\nexport default class UiCardButtonRow extends React.Component<IUiCardButtonRowProps> {\r\n  public render() {\r\n    const className = classname('UiCardButtonRow', this.props.className, {\r\n      'UiCardButtonRowDividerFull': this.props.divider === 'full',\r\n      'UiCardButtonRowDividerHalf': this.props.divider === 'half',\r\n    });\r\n\r\n    return (\r\n      <div className={className} style={this.props.style}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as BrandIcons from '@fortawesome/free-brands-svg-icons';\r\nimport * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IModuleRepositoryItem } from '@schirkan/reactron-interfaces';\r\nimport classname from 'classnames';\r\nimport * as React from 'react';\r\nimport UiButton from '../../UiButton/UiButton';\r\nimport UiCard from '../../UiCard/UiCard';\r\nimport UiCardButtonRow from '../../UiCardButtonRow/UiCardButtonRow';\r\nimport UiCardContent from '../../UiCardContent/UiCardContent';\r\nimport UiCardTitle from '../../UiCardTitle/UiCardTitle';\r\n\r\nimport './ModuleCard.scss';\r\n\r\nexport interface IModuleCardProps {\r\n  module: IModuleRepositoryItem;\r\n  onUpdate: (module: IModuleRepositoryItem) => void;\r\n  onRebuild: (module: IModuleRepositoryItem) => void;\r\n  onRemove: (module: IModuleRepositoryItem) => void;\r\n}\r\n\r\ninterface IModuleCardState {\r\n  showActions: boolean;\r\n}\r\n\r\nexport default class ModuleCard extends React.Component<IModuleCardProps, IModuleCardState> {\r\n  constructor(props: IModuleCardProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showActions: false\r\n    };\r\n\r\n    this.showActions = this.showActions.bind(this);\r\n    this.hideActions = this.hideActions.bind(this);\r\n    this.onUpdate = this.onUpdate.bind(this);\r\n    this.onRebuild = this.onRebuild.bind(this);\r\n    this.onRemove = this.onRemove.bind(this);\r\n  }\r\n\r\n  private showActions() {\r\n    this.setState({ showActions: true });\r\n  }\r\n\r\n  private hideActions() {\r\n    this.setState({ showActions: false });\r\n  }\r\n\r\n  private onUpdate() {\r\n    this.hideActions();\r\n    this.props.onUpdate(this.props.module);\r\n  }\r\n\r\n  private onRebuild() {\r\n    this.hideActions();\r\n    this.props.onRebuild(this.props.module);\r\n  }\r\n\r\n  private onRemove() {\r\n    if (window.confirm('Remove?')) {\r\n      this.hideActions();\r\n      this.props.onRemove(this.props.module);\r\n    }\r\n  }\r\n\r\n  public renderTitle() {\r\n    let updateIcon: JSX.Element | undefined;\r\n    if (this.props.module.hasUpdate) {\r\n      updateIcon = <span className=\"hasUpdate\"><FontAwesomeIcon icon={SolidIcons.faStarOfLife} /></span>;\r\n    }\r\n\r\n    return (\r\n      <UiCardTitle>\r\n        <FontAwesomeIcon icon={SolidIcons.faCube} /> {this.props.module.name}\r\n        {updateIcon}\r\n      </UiCardTitle>\r\n    );\r\n  }\r\n\r\n  public renderDescription() {\r\n    return (\r\n      <UiCardContent className=\"description\">\r\n        {this.props.module.description || 'no description'}\r\n      </UiCardContent>\r\n    );\r\n  }\r\n\r\n  public renderAuthor() {\r\n    let authorName: string | undefined = 'unknown';\r\n    let authorMail: string | undefined;\r\n    if (typeof this.props.module.author === 'string') {\r\n      authorName = this.props.module.author;\r\n    } else if (typeof this.props.module.author === 'object') {\r\n      authorName = this.props.module.author.name || this.props.module.author.email;\r\n      authorMail = this.props.module.author.email;\r\n    }\r\n    const author = (authorMail) ? (<a href={'mailto://' + authorMail}>{authorName}</a>) : authorName;\r\n\r\n    return (\r\n      <UiCardContent className=\"author\">by {author}</UiCardContent>\r\n    );\r\n  }\r\n\r\n  public renderFooter() {\r\n    let repoLink = <div />;\r\n    if (this.props.module.repository) {\r\n      repoLink = (\r\n        <a className=\"clickable\" href={this.props.module.repository} target=\"_blank\">\r\n          <FontAwesomeIcon icon={BrandIcons.faGithub} /> GitHub\r\n        </a>\r\n      );\r\n    }\r\n\r\n    const className = classname('footer', 'default', { 'hide': this.state.showActions });\r\n\r\n    return (\r\n      <UiCardButtonRow className={className} divider=\"half\">\r\n        <div className=\"version\">{this.props.module.version}</div>\r\n        {repoLink}\r\n        <UiButton onClick={this.showActions}><FontAwesomeIcon icon={SolidIcons.faCog} /> Modify</UiButton>\r\n      </UiCardButtonRow>\r\n    );\r\n  }\r\n\r\n  public renderActions() {\r\n    const className = classname('footer', 'actions', { 'hide': !this.state.showActions });\r\n\r\n    return (\r\n      <UiCardButtonRow className={className} divider=\"full\">\r\n        <UiButton disabled={!this.props.module.hasUpdate} onClick={this.onUpdate}>\r\n          <FontAwesomeIcon icon={SolidIcons.faDownload} /> Update\r\n        </UiButton>\r\n        {/* <UiButton disabled={!this.props.module.canBuild} onClick={this.onRebuild}>Rebuild</UiButton> */}\r\n        <UiButton disabled={!this.props.module.canRemove} onClick={this.onRemove}>\r\n          <FontAwesomeIcon icon={SolidIcons.faTrashAlt} /> Remove\r\n        </UiButton>\r\n        <UiButton onClick={this.hideActions}>\r\n          <FontAwesomeIcon icon={SolidIcons.faTimes} /> Close\r\n        </UiButton>\r\n      </UiCardButtonRow>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <UiCard className=\"ModuleCard\">\r\n        {this.renderTitle()}\r\n        {this.renderDescription()}\r\n        {this.renderAuthor()}\r\n        {this.renderFooter()}\r\n        {this.renderActions()}\r\n      </UiCard>\r\n    );\r\n  }\r\n}\r\n","import * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IModuleRepositoryItem } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport UiButton from '../../UiButton/UiButton';\r\nimport UiCard from '../../UiCard/UiCard';\r\nimport UiCardButtonRow from '../../UiCardButtonRow/UiCardButtonRow';\r\n\r\nimport './UpdateModulesCard.scss';\r\n\r\nexport interface IUpdateModulesCardProps {\r\n  checkingUpdates: boolean;\r\n  modules: IModuleRepositoryItem[];\r\n  onCheckUpdates: () => void;\r\n  onUpdateAll: () => void;\r\n  onUpdateModule: (module: IModuleRepositoryItem) => void;\r\n}\r\n\r\nexport default class UpdateModulesCard extends React.Component<IUpdateModulesCardProps> {\r\n  public render() {\r\n    const modulesWithUpdates = this.props.modules.filter(x => x.hasUpdate);\r\n    const isChecked = this.props.modules.some(x => x.hasUpdate !== undefined);\r\n    const updatesTitle = isChecked ? modulesWithUpdates.length : '-';\r\n\r\n    return (\r\n      <UiCard className=\"UpdateModulesCard\">\r\n        <UiCardButtonRow divider=\"full\">\r\n          <div>Updates: {updatesTitle}</div>\r\n          <UiButton className=\"checkUpdatesButton\" onClick={this.props.onCheckUpdates} disabled={this.props.checkingUpdates}>\r\n            <FontAwesomeIcon icon={SolidIcons.faSyncAlt} spin={this.props.checkingUpdates} /> Check\r\n          </UiButton>\r\n          <UiButton className=\"updateAllButton\" onClick={this.props.onUpdateAll} disabled={!modulesWithUpdates.length}>\r\n            <FontAwesomeIcon icon={SolidIcons.faDownload} /> Update All\r\n          </UiButton>\r\n        </UiCardButtonRow>\r\n      </UiCard>\r\n    );\r\n  }\r\n}\r\n","import * as BrandIcons from '@fortawesome/free-brands-svg-icons';\r\nimport * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IModuleRepositoryItem } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport UiButton from '../../UiButton/UiButton';\r\nimport UiCard from '../../UiCard/UiCard';\r\nimport UiCardTitle from '../../UiCardTitle/UiCardTitle';\r\n\r\nimport './ModuleCatalog.scss';\r\n\r\ninterface IModuleCatalogItem {\r\n  name: string;\r\n  url: string;\r\n}\r\n\r\n// TODO load from url\r\nconst catalog: IModuleCatalogItem[] = [{\r\n  name: 'reactron-openweathermap',\r\n  url: 'https://github.com/schirkan/reactron-openweathermap'\r\n}, {\r\n  name: 'reactron-analog-clock',\r\n  url: 'https://github.com/schirkan/reactron-analog-clock'\r\n}, {\r\n  name: 'reactron-scifi-dashboard',\r\n  url: 'https://github.com/schirkan/reactron-scifi-dashboard'\r\n}];\r\n\r\nexport interface IModuleCatalogProps {\r\n  modules: IModuleRepositoryItem[];\r\n  onAdd: (url: string) => void;\r\n}\r\n\r\nexport default class ModuleCatalog extends React.Component<IModuleCatalogProps> {\r\n  constructor(props: IModuleCatalogProps) {\r\n    super(props);\r\n  }\r\n\r\n  private renderCatalogItems() {\r\n    const items: JSX.Element[] = catalog.map(item => {\r\n      const installed = this.props.modules.some(x => x.name === item.name);\r\n      const install = () => this.props.onAdd(item.url);\r\n      return (\r\n        <div className=\"ModuleCatalogItem\" key={item.name}>\r\n          <a className=\"clickable\" href={item.url} target=\"_blank\">\r\n            <FontAwesomeIcon icon={BrandIcons.faGithub} /> {item.name}\r\n          </a>\r\n          <UiButton disabled={installed} onClick={install}>\r\n            <FontAwesomeIcon icon={SolidIcons.faDownload} /> Add\r\n          </UiButton>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return items;\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <UiCard className=\"ModuleCatalog\">\r\n        <UiCardTitle>Module Catalog</UiCardTitle>\r\n        {this.renderCatalogItems()}\r\n      </UiCard>\r\n    );\r\n  }\r\n}\r\n","import { ICommandResult, IModuleRepositoryItem } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport { apiClient } from '../../ApiClient';\r\nimport Loading from '../Loading/Loading';\r\nimport UiFlowLayout from '../UiFlowLayout/UiFlowLayout';\r\nimport UiLoadingCard from '../UiLoadingCard/UiLoadingCard';\r\nimport UiOverlay from '../UiOverlay/UiOverlay';\r\nimport UiTab from '../UiTabs/UiTab';\r\nimport UiTabs from '../UiTabs/UiTabs';\r\nimport AddModuleCard from './AddModuleCard/AddModuleCard';\r\nimport CommandResult from './CommandResult/CommandResult';\r\nimport ModuleCard from './ModuleCard/ModuleCard';\r\nimport UpdateModulesCard from './UpdateModulesCard/UpdateModulesCard';\r\n\r\nimport './ModuleManagerPage.scss';\r\nimport ModuleCatalog from './ModuleCatalog/ModuleCatalog';\r\n\r\nexport interface IModuleManagerPageState {\r\n  loading: boolean;\r\n  checkingUpdates: boolean;\r\n  showResult: boolean;\r\n  results: ICommandResult[];\r\n  modules: IModuleRepositoryItem[];\r\n}\r\n\r\nexport default class ModuleManagerPage extends React.Component<any, IModuleManagerPageState> {\r\n  constructor(props: any) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      checkingUpdates: false,\r\n      showResult: false,\r\n      results: [],\r\n      modules: []\r\n    };\r\n\r\n    this.loadModules = this.loadModules.bind(this);\r\n    this.checkUpdates = this.checkUpdates.bind(this);\r\n    this.updateAll = this.updateAll.bind(this);\r\n    this.updateModule = this.updateModule.bind(this);\r\n    this.removeModule = this.removeModule.bind(this);\r\n    this.rebuildModule = this.rebuildModule.bind(this);\r\n    this.addModule = this.addModule.bind(this);\r\n    this.hideResult = this.hideResult.bind(this);\r\n  }\r\n\r\n  public componentDidMount() {\r\n    this.loadModules();\r\n  }\r\n\r\n  public loadModules(): Promise<void> {\r\n    return apiClient.getModules()\r\n      .then(modules => this.setState({ modules }))\r\n      .catch(); // TODO\r\n  }\r\n\r\n  public async checkUpdates(): Promise<void> {\r\n    this.setState({ checkingUpdates: true });\r\n    await apiClient.checkUpdates();\r\n    this.setState({ checkingUpdates: false });\r\n    apiClient.getModules.clearCache();\r\n    await this.loadModules();\r\n  }\r\n\r\n  public async updateAll(): Promise<void> {\r\n    const modulesWithUpdates = this.state.modules.filter(x => x.hasUpdate);\r\n    if (!modulesWithUpdates.length) {\r\n      return;\r\n    }\r\n\r\n    const results: ICommandResult[] = [];\r\n    this.setState({ loading: true });\r\n    try {\r\n      for (const module of modulesWithUpdates) {\r\n        const result = await apiClient.updateModule({ moduleName: module.name });\r\n        results.push(...result);\r\n      }\r\n      this.showResult(results);\r\n    } catch (error) {\r\n      this.showError(error);\r\n    }\r\n    apiClient.getModules.clearCache();\r\n    await this.loadModules();\r\n  }\r\n\r\n  public async updateModule(module: IModuleRepositoryItem): Promise<void> {\r\n    if (!module.hasUpdate) {\r\n      return;\r\n    };\r\n\r\n    this.setState({ loading: true });\r\n    try {\r\n      const result = await apiClient.updateModule({ moduleName: module.name });\r\n      this.showResult(result);\r\n    } catch (error) {\r\n      this.showError(error);\r\n    }\r\n    apiClient.getModules.clearCache();\r\n    await this.loadModules();\r\n  }\r\n\r\n  public async rebuildModule(module: IModuleRepositoryItem): Promise<void> {\r\n    if (!module.canBuild) {\r\n      return;\r\n    };\r\n\r\n    this.setState({ loading: true });\r\n    try {\r\n      const result = await apiClient.rebuildModule({ moduleName: module.name });\r\n      this.showResult(result);\r\n    } catch (error) {\r\n      this.showError(error);\r\n    }\r\n    apiClient.getModules.clearCache();\r\n    await this.loadModules();\r\n  }\r\n\r\n  public async removeModule(module: IModuleRepositoryItem): Promise<void> {\r\n    if (!module.canRemove) {\r\n      return;\r\n    };\r\n\r\n    this.setState({ loading: true });\r\n    try {\r\n      const result = await apiClient.deleteModule({ moduleName: module.name });\r\n      this.showResult(result);\r\n    } catch (error) {\r\n      this.showError(error);\r\n    }\r\n    apiClient.getModules.clearCache();\r\n    await this.loadModules();\r\n  }\r\n\r\n  public async addModule(repository: string | null): Promise<void> {\r\n    if (!repository || !repository.trim()) {\r\n      return;\r\n    };\r\n\r\n    this.setState({ loading: true });\r\n    try {\r\n      const result = await apiClient.addModule(undefined, { repository });\r\n      this.showResult(result);\r\n    } catch (error) {\r\n      this.showError(error);\r\n    }\r\n    apiClient.getModules.clearCache();\r\n    await this.loadModules();\r\n  }\r\n\r\n  private showError(err: any) {\r\n    const message = err && err.message || JSON.stringify(err);\r\n    const result = { command: 'Error', success: false, log: [message] } as ICommandResult;\r\n    this.setState({ loading: false, showResult: true, results: [result] });\r\n  }\r\n\r\n  private showResult(results: ICommandResult[]) {\r\n    this.setState({ loading: false, showResult: true, results });\r\n  }\r\n\r\n  public hideResult() {\r\n    this.setState({ showResult: false });\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <section className=\"ModuleManagerPage\">\r\n        {this.state.loading && (\r\n          <UiOverlay><Loading center={true} /></UiOverlay>\r\n        )}\r\n        {this.state.showResult && (\r\n          <UiOverlay>\r\n            <CommandResult results={this.state.results} onClose={this.hideResult} />\r\n          </UiOverlay>\r\n        )}\r\n\r\n        <UiTabs>\r\n          <UiTab title=\"Installed\">\r\n            <UiFlowLayout>\r\n              <UpdateModulesCard\r\n                checkingUpdates={this.state.checkingUpdates}\r\n                modules={this.state.modules}\r\n                onCheckUpdates={this.checkUpdates}\r\n                onUpdateAll={this.updateAll}\r\n                onUpdateModule={this.updateModule} />\r\n            </UiFlowLayout>\r\n            {!this.state.modules.length && (\r\n              <UiFlowLayout>\r\n                <UiLoadingCard />\r\n              </UiFlowLayout>\r\n            )}\r\n            <UiFlowLayout>\r\n              {this.state.modules.map(item =>\r\n                <ModuleCard key={item.name}\r\n                  module={item}\r\n                  onRemove={this.removeModule}\r\n                  onRebuild={this.rebuildModule}\r\n                  onUpdate={this.updateModule} />)}\r\n            </UiFlowLayout>\r\n          </UiTab>\r\n          <UiTab title=\"Add New\">\r\n            <UiFlowLayout>\r\n              <AddModuleCard onAdd={this.addModule} />\r\n            </UiFlowLayout>\r\n            <UiFlowLayout>\r\n              <ModuleCatalog onAdd={this.addModule} modules={this.state.modules} />\r\n            </UiFlowLayout>\r\n          </UiTab>\r\n        </UiTabs>\r\n\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport './Navigation.scss';\r\n\r\nexport default class Navigation extends React.Component {\r\n  public render() {\r\n    return (\r\n      <section className=\"Navigation\">\r\n        <NavLink activeClassName=\"active\" to=\"/admin/ModuleManager\" role=\"button\" >Modules</NavLink>\r\n        <NavLink activeClassName=\"active\" to=\"/admin/ServiceManager\" role=\"button\">Services</NavLink>\r\n        <NavLink activeClassName=\"active\" to=\"/admin/Pages\" role=\"button\">Pages</NavLink>\r\n        <NavLink activeClassName=\"active\" to=\"/admin/Settings\" role=\"button\">Settings</NavLink>\r\n        <NavLink activeClassName=\"active\" to=\"/admin/System\" role=\"button\">System</NavLink>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","export const confirm = <TArgs = any>(callback: (args?: TArgs) => any, text: string) => {\r\n    return (args?: TArgs) => {\r\n        if (window.confirm(text)) {\r\n            return callback(args);\r\n        }\r\n    }\r\n};","import { IFieldDefinition } from \"@schirkan/reactron-interfaces\";\r\n\r\nexport const getDefaultFieldValue = (field: IFieldDefinition) => {\r\n  const defaultValue = field.defaultValue;\r\n\r\n  if (field.isArray) {\r\n    if (defaultValue && Array.isArray(defaultValue)) {\r\n      return defaultValue;\r\n    }\r\n    return [];\r\n  }\r\n\r\n  switch (field.valueType) {\r\n    case 'object':\r\n      let result: any = defaultValue;\r\n\r\n      if (result === undefined) {\r\n        result = getDefaultObjectValue(field.fields);\r\n      }\r\n\r\n      return result;\r\n    case 'number':\r\n      return defaultValue || 0;\r\n    case 'boolean':\r\n      return defaultValue || false;\r\n    case 'string':\r\n      return defaultValue || '';\r\n    case 'style':\r\n      return defaultValue || {};\r\n    case 'webComponent':\r\n      return undefined;\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport const getDefaultObjectValue = (fields?: IFieldDefinition[]) => {\r\n  const result = {};\r\n  if (fields) {\r\n    fields.forEach(f => {\r\n      result[f.name] = getDefaultFieldValue(f);\r\n    });\r\n  }\r\n  return result;\r\n};","\"use strict\";\r\nexports.__esModule = true;\r\nvar Guid = /** @class */ (function () {\r\n    function Guid(guid) {\r\n        if (!guid) {\r\n            throw new TypeError(\"Invalid argument; `value` has no value.\");\r\n        }\r\n        this.value = Guid.EMPTY;\r\n        if (guid && Guid.isGuid(guid)) {\r\n            this.value = guid;\r\n        }\r\n    }\r\n    Guid.isGuid = function (guid) {\r\n        var value = guid.toString();\r\n        return guid && (guid instanceof Guid || Guid.validator.test(value));\r\n    };\r\n    Guid.create = function () {\r\n        return new Guid([Guid.gen(2), Guid.gen(1), Guid.gen(1), Guid.gen(1), Guid.gen(3)].join(\"-\"));\r\n    };\r\n    Guid.createEmpty = function () {\r\n        return new Guid(\"emptyguid\");\r\n    };\r\n    Guid.parse = function (guid) {\r\n        return new Guid(guid);\r\n    };\r\n    Guid.raw = function () {\r\n        return [Guid.gen(2), Guid.gen(1), Guid.gen(1), Guid.gen(1), Guid.gen(3)].join(\"-\");\r\n    };\r\n    Guid.gen = function (count) {\r\n        var out = \"\";\r\n        for (var i = 0; i < count; i++) {\r\n            // tslint:disable-next-line:no-bitwise\r\n            out += (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n        }\r\n        return out;\r\n    };\r\n    Guid.prototype.equals = function (other) {\r\n        // Comparing string `value` against provided `guid` will auto-call\r\n        // toString on `guid` for comparison\r\n        return Guid.isGuid(other) && this.value === other.toString();\r\n    };\r\n    Guid.prototype.isEmpty = function () {\r\n        return this.value === Guid.EMPTY;\r\n    };\r\n    Guid.prototype.toString = function () {\r\n        return this.value;\r\n    };\r\n    Guid.prototype.toJSON = function () {\r\n        return {\r\n            value: this.value\r\n        };\r\n    };\r\n    Guid.validator = new RegExp(\"^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$\", \"i\");\r\n    Guid.EMPTY = \"00000000-0000-0000-0000-000000000000\";\r\n    return Guid;\r\n}());\r\nexports.Guid = Guid;\r\n","import * as RegularIcons from '@fortawesome/free-regular-svg-icons';\r\nimport * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IFieldDefinition, IInputComponentProps } from '@schirkan/reactron-interfaces';\r\nimport { Guid } from 'guid-typescript';\r\nimport * as React from 'react';\r\nimport { getDefaultFieldValue } from 'src/common/optionsHelper';\r\nimport UiButton from '../../../UiButton/UiButton';\r\nimport OptionItem from '../../OptionItem';\r\n\r\nimport './ArrayForm.scss';\r\n\r\nexport default class ArrayForm extends React.Component<IInputComponentProps> {\r\n  private arrayKeys: string[] = [];\r\n\r\n  constructor(props: IInputComponentProps) {\r\n    super(props);\r\n\r\n    this.arrayItemAdd = this.arrayItemAdd.bind(this);\r\n    this.arrayItemRemove = this.arrayItemRemove.bind(this);\r\n    this.arrayItemMoveUp = this.arrayItemMoveUp.bind(this);\r\n    this.arrayItemMoveDown = this.arrayItemMoveDown.bind(this);\r\n  }\r\n\r\n  private arrayItemChange(index: number, definition: IFieldDefinition, newValue: any) {\r\n    let array = this.props.value || [];\r\n    array = array.slice();\r\n    array[index] = newValue;\r\n    this.props.valueChange(this.props.definition, array);\r\n  }\r\n\r\n  private arrayItemRemove(index: number) {\r\n    let array = this.props.value || [];\r\n    array = array.slice();\r\n    array.splice(index, 1);\r\n    this.arrayKeys.splice(index, 1);\r\n    this.props.valueChange(this.props.definition, array);\r\n  }\r\n\r\n  private arrayItemMoveUp(index: number) {\r\n    const array = this.props.value || [];\r\n\r\n    if (index === 0) {\r\n      return;\r\n    }\r\n\r\n    const item = array.splice(index, 1)[0];\r\n    array.splice(index - 1, 0, item);\r\n\r\n    const keyItem = this.arrayKeys.splice(index, 1)[0];\r\n    this.arrayKeys.splice(index - 1, 0, keyItem);\r\n\r\n    this.props.valueChange(this.props.definition, array);\r\n  }\r\n\r\n  private arrayItemMoveDown(index: number) {\r\n    const array = this.props.value || [];\r\n\r\n    if (index === array.length - 1) {\r\n      return;\r\n    }\r\n\r\n    const item = array.splice(index, 1)[0];\r\n    array.splice(index + 1, 0, item);\r\n\r\n    const keyItem = this.arrayKeys.splice(index, 1)[0];\r\n    this.arrayKeys.splice(index + 1, 0, keyItem);\r\n\r\n    this.props.valueChange(this.props.definition, array);\r\n  }\r\n\r\n  private arrayItemAdd() {\r\n    const arrayItemDefinition = { ...this.props.definition };\r\n    arrayItemDefinition.isArray = false;\r\n\r\n    let array = this.props.value || [];\r\n    array = array.slice();\r\n    array.push(getDefaultFieldValue(arrayItemDefinition));\r\n    this.props.valueChange(this.props.definition, array);\r\n  }\r\n\r\n  private renderArrayItem(value: any, index: number) {\r\n    const arrayItemDefinition = { ...this.props.definition };\r\n    arrayItemDefinition.isArray = false;\r\n    arrayItemDefinition.displayName = 'Item ' + (index + 1);\r\n\r\n    let key = this.arrayKeys[index];\r\n    if (!key) {\r\n      key = this.arrayKeys[index] = Guid.raw();\r\n    }\r\n\r\n    return (\r\n      <React.Fragment key={key}>\r\n        <OptionItem definition={arrayItemDefinition} value={value}\r\n          valueChange={this.arrayItemChange.bind(this, index)} >\r\n          <UiButton onClick={this.arrayItemRemove.bind(this, index)}>\r\n            <FontAwesomeIcon icon={RegularIcons.faTrashAlt} />\r\n          </UiButton>\r\n          <UiButton onClick={this.arrayItemMoveUp.bind(this, index)}>\r\n            <FontAwesomeIcon icon={RegularIcons.faArrowAltCircleUp} />\r\n          </UiButton>\r\n          <UiButton onClick={this.arrayItemMoveDown.bind(this, index)}>\r\n            <FontAwesomeIcon icon={RegularIcons.faArrowAltCircleDown} />\r\n          </UiButton>\r\n        </OptionItem>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    const array: any[] = this.props.value || [];\r\n    return (\r\n      <React.Fragment>\r\n        {array.map((value, index) => this.renderArrayItem(value, index))}\r\n        <UiButton className=\"add-array-item\" onClick={this.arrayItemAdd}>\r\n          <FontAwesomeIcon icon={SolidIcons.faPlus} /> Add item\r\n        </UiButton>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n","import * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { IFieldDefinition, IInputComponentProps } from '@schirkan/reactron-interfaces';\r\nimport { IInputControls, IInputControlsProvider } from '../IInputControls';\r\nimport ArrayForm from './ArrayForm';\r\n\r\nexport class ArrayControlsProvider implements IInputControlsProvider {\r\n  public match(definition: IFieldDefinition): boolean {\r\n    return !!definition.isArray;\r\n  }\r\n\r\n  public get(): IInputControls {\r\n    return {\r\n      icon: SolidIcons.faList,\r\n      detailsControl: ArrayForm,\r\n      inputControl: (props: IInputComponentProps) => {\r\n        const array = props.value as any[] || [];\r\n        return '(' + array.length + ' items)';\r\n      }\r\n    };\r\n  }\r\n}","import { IInputComponentProps } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\n\r\nimport './BooleanInputControl.scss';\r\n\r\nexport class BooleanInputControl extends React.Component<IInputComponentProps> {\r\n  constructor(props: IInputComponentProps) {\r\n    super(props);\r\n    this.onCheckboxChange = this.onCheckboxChange.bind(this);\r\n  }\r\n\r\n  private onCheckboxChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    this.props.valueChange(this.props.definition, e.currentTarget.checked);\r\n  }\r\n\r\n  public render() {\r\n    const inputProps: { checked?: boolean } = {};\r\n    if (this.props.value) {\r\n      inputProps.checked = true;\r\n    }\r\n    return (\r\n      <label className=\"BooleanInputControl\">\r\n        <input type=\"checkbox\" id={this.props.uniqueId} checked={this.props.value} onChange={this.onCheckboxChange} />\r\n        <span className=\"slider\" />\r\n      </label>\r\n    );\r\n  }\r\n}","import { IFieldDefinition } from '@schirkan/reactron-interfaces';\r\nimport { IInputControls, IInputControlsProvider } from '../IInputControls';\r\nimport { BooleanInputControl } from './BooleanInputControl';\r\n\r\nexport class BooleanControlsProvider implements IInputControlsProvider {\r\n  public match(definition: IFieldDefinition): boolean {\r\n    return definition.valueType === 'boolean';\r\n  }\r\n\r\n  public get(): IInputControls {\r\n    return {\r\n      inputControl: BooleanInputControl\r\n    }\r\n  }\r\n}\r\n","import { IFieldDefinition, IInputComponentProps } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport { IInputControls, IInputControlsProvider } from './IInputControls';\r\n\r\nexport class NumberControlsProvider implements IInputControlsProvider {\r\n  public match(definition: IFieldDefinition): boolean {\r\n    return definition.valueType === 'number';\r\n  }\r\n\r\n  public get(definition: IFieldDefinition): IInputControls {\r\n    if (definition.minValue !== undefined &&\r\n      definition.maxValue !== undefined) {\r\n      return {\r\n        inputControl: NumberInputControl,\r\n        detailsControl: RangeInputControl\r\n      };\r\n    }\r\n\r\n    return {\r\n      inputControl: NumberInputControl\r\n    };\r\n  }\r\n}\r\n\r\n// tslint:disable-next-line:max-classes-per-file\r\nclass NumberInputControl extends React.Component<IInputComponentProps>{\r\n  constructor(props: IInputComponentProps) {\r\n    super(props);\r\n    this.onInputChange = this.onInputChange.bind(this);\r\n  }\r\n\r\n  private onInputChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    this.props.valueChange(this.props.definition, e.currentTarget.value);\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <input style={{ width: '100%' }} type=\"number\" id={this.props.uniqueId} value={this.props.value}\r\n        onChange={this.onInputChange} step={this.props.definition.stepSize}\r\n        min={this.props.definition.minValue} max={this.props.definition.maxValue} />\r\n    );\r\n  }\r\n}\r\n\r\n// tslint:disable-next-line:max-classes-per-file\r\nclass RangeInputControl extends React.Component<IInputComponentProps>{\r\n  constructor(props: IInputComponentProps) {\r\n    super(props);\r\n    this.onInputChange = this.onInputChange.bind(this);\r\n  }\r\n\r\n  private onInputChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    this.props.valueChange(this.props.definition, e.currentTarget.value);\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <input style={{ width: '100%' }} type=\"range\" id={this.props.uniqueId} value={this.props.value}\r\n        onChange={this.onInputChange} step={this.props.definition.stepSize}\r\n        min={this.props.definition.minValue} max={this.props.definition.maxValue} />\r\n    );\r\n  }\r\n}","import { IFieldDefinition, IInputComponentProps } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport OptionList from '../../OptionList/OptionList';\r\nimport { IInputControls, IInputControlsProvider } from './IInputControls';\r\n\r\nexport class ObjectControlsProvider implements IInputControlsProvider {\r\n  public match(definition: IFieldDefinition): boolean {\r\n    return definition.valueType === 'object';\r\n  }\r\n\r\n  public get(): IInputControls {\r\n    return {\r\n      detailsControl: ObjectInputControl,\r\n      // inputControl: \r\n    };\r\n  }\r\n}\r\n\r\n// tslint:disable-next-line:max-classes-per-file\r\nclass ObjectInputControl extends React.Component<IInputComponentProps>{\r\n  constructor(props: IInputComponentProps) {\r\n    super(props);\r\n    this.triggerValueChange = this.triggerValueChange.bind(this);\r\n  }\r\n\r\n  private triggerValueChange(newValue: any) {\r\n    this.props.valueChange(this.props.definition, newValue);\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <OptionList fields={this.props.definition.fields} value={this.props.value} valueChange={this.triggerValueChange} />\r\n    );\r\n  }\r\n}","import * as RegularIcons from '@fortawesome/free-regular-svg-icons';\r\nimport * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IFieldDefinition, IInputComponentProps } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport UiButton from '../../../UiButton/UiButton';\r\nimport OptionItem from '../../OptionItem';\r\n\r\nimport './StyleForm.scss';\r\n\r\nconst styleProperties = ['background', 'backgroundAttachment', 'backgroundColor', 'backgroundImage',\r\n  'backgroundPosition', 'backgroundRepeat', 'border', 'borderBottom',\r\n  'borderBottomColor', 'borderBottomStyle', 'borderBottomWidth', 'borderColor',\r\n  'borderLeft', 'borderLeftColor', 'borderLeftStyle', 'borderLeftWidth',\r\n  'borderRight', 'borderRightColor', 'borderRightStyle', 'borderRightWidth',\r\n  'borderStyle', 'borderTop', 'borderTopColor', 'borderTopStyle',\r\n  'borderTopWidth', 'borderWidth', 'clear', 'clip',\r\n  'color', 'cursor', 'display', 'filter',\r\n  'cssFloat', 'font', 'fontFamily', 'fontSize',\r\n  'fontVariant', 'fontWeight', 'height', 'left',\r\n  'letterSpacing', 'lineHeight', 'listStyle', 'listStyleImage',\r\n  'listStylePosition', 'listStyleType', 'margin', 'marginBottom',\r\n  'marginLeft', 'marginRight', 'marginTop', 'overflow',\r\n  'padding', 'paddingBottom', 'paddingLeft', 'paddingRight',\r\n  'paddingTop', 'pageBreakAfter', 'pageBreakBefore', 'position',\r\n  'strokeDasharray', 'strokeDashoffset', 'strokeWidth', 'textAlign',\r\n  'textDecoration', 'textIndent', 'textTransform', 'top',\r\n  'verticalAlign', 'visibility', 'width', 'zIndex'];\r\n\r\ninterface IStyleFormState {\r\n  fields: IFieldDefinition[];\r\n}\r\n\r\nexport default class StyleForm extends React.Component<IInputComponentProps, IStyleFormState> {\r\n  private newPropertySelect: HTMLSelectElement | null;\r\n\r\n  constructor(props: IInputComponentProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      fields: this.getFields(this.props.value)\r\n    };\r\n\r\n    this.addField = this.addField.bind(this);\r\n    this.valueChange = this.valueChange.bind(this);\r\n  }\r\n\r\n  public componentDidUpdate(prevProps: IInputComponentProps) {\r\n    if (prevProps !== this.props) {\r\n      this.setState({ fields: this.getFields(this.props.value) });\r\n    }\r\n  }\r\n\r\n  private getFields(obj: object): IFieldDefinition[] {\r\n    const fields: IFieldDefinition[] = [];\r\n\r\n    if (obj) {\r\n      Object.keys(obj).forEach(name => {\r\n        const field: IFieldDefinition = {\r\n          name,\r\n          displayName: name,\r\n          valueType: 'string',\r\n        };\r\n        fields.push(field);\r\n      });\r\n    }\r\n\r\n    return fields;\r\n  }\r\n\r\n  private valueChange(field: IFieldDefinition, value: any) {\r\n    const newValue = { ...this.props.value };\r\n    newValue[field.name] = value;\r\n    this.props.valueChange(this.props.definition, newValue);\r\n  }\r\n\r\n  private removeField(fieldName: string) {\r\n    const newValue = { ...this.props.value };\r\n    delete (newValue[fieldName]);\r\n    this.props.valueChange(this.props.definition, newValue);\r\n  }\r\n\r\n  private addField() {\r\n    if (!this.newPropertySelect) {\r\n      return;\r\n    }\r\n\r\n    const fieldName = this.newPropertySelect.value;\r\n\r\n    if (!fieldName || this.props.value && this.props.value.hasOwnProperty(fieldName)) {\r\n      return;\r\n    }\r\n\r\n    const newValue = { ...this.props.value };\r\n    newValue[fieldName] = '';\r\n    this.props.valueChange(this.props.definition, newValue);\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"StyleForm\">\r\n        {this.state.fields.map(field => {\r\n          const value = this.props.value && this.props.value[field.name];\r\n          return (\r\n            <OptionItem key={field.name} definition={field} value={value} valueChange={this.valueChange} >\r\n              <UiButton onClick={this.removeField.bind(this, field.name)}>\r\n                <FontAwesomeIcon icon={RegularIcons.faTrashAlt} />\r\n              </UiButton>\r\n            </OptionItem>\r\n          );\r\n        })}\r\n        <div className=\"newPropertyRow\">\r\n          <select ref={el => this.newPropertySelect = el}>\r\n            {styleProperties.map(property => <option key={property} value={property}>{property}</option>)}\r\n          </select>\r\n          <UiButton onClick={this.addField}>\r\n            <FontAwesomeIcon icon={SolidIcons.faPlus} /> Add\r\n          </UiButton>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as BrandIcons from '@fortawesome/free-brands-svg-icons';\r\nimport { IFieldDefinition, IInputComponentProps } from '@schirkan/reactron-interfaces';\r\nimport { IInputControls, IInputControlsProvider } from '../IInputControls';\r\nimport StyleForm from './StyleForm';\r\n\r\nexport class StyleControlsProvider implements IInputControlsProvider {\r\n  public match(definition: IFieldDefinition): boolean {\r\n    return definition.valueType === 'style';\r\n  }\r\n\r\n  public get(): IInputControls {\r\n    return {\r\n      icon: BrandIcons.faCss3,\r\n      detailsControl: StyleForm,\r\n      inputControl: (props: IInputComponentProps) => {\r\n        const text = JSON.stringify(props.value) || '';\r\n        return text === '{}' ? '' : text;\r\n      }\r\n    };\r\n  }\r\n}","import { IFieldDefinition, IInputComponentProps } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport { IInputControls, IInputControlsProvider } from './IInputControls';\r\n\r\nexport class TextControlsProvider implements IInputControlsProvider {\r\n  public match(definition: IFieldDefinition): boolean {\r\n    return definition.valueType === 'string';\r\n  }\r\n\r\n  public get(definition: IFieldDefinition): IInputControls {\r\n    if (definition.textRows !== undefined && definition.textRows > 1) {\r\n      return {\r\n        detailsControl: TextAreaInputControl,\r\n        inputControl: (props: IInputComponentProps) => props.value\r\n      };\r\n    }\r\n\r\n    return {\r\n      inputControl: TextBoxInputControl\r\n    };\r\n  }\r\n}\r\n\r\n// tslint:disable-next-line:max-classes-per-file\r\nclass TextBoxInputControl extends React.Component<IInputComponentProps>{\r\n  constructor(props: IInputComponentProps) {\r\n    super(props);\r\n    this.onInputChange = this.onInputChange.bind(this);\r\n  }\r\n\r\n  private onInputChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    this.props.valueChange(this.props.definition, e.currentTarget.value);\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <input type=\"text\" id={this.props.uniqueId} value={this.props.value} onChange={this.onInputChange} />\r\n    );\r\n  }\r\n}\r\n\r\n// tslint:disable-next-line:max-classes-per-file\r\nclass TextAreaInputControl extends React.Component<IInputComponentProps>{\r\n  constructor(props: IInputComponentProps) {\r\n    super(props);\r\n    this.onTextareaChange = this.onTextareaChange.bind(this);\r\n  }\r\n\r\n  private onTextareaChange(e: React.ChangeEvent<HTMLTextAreaElement>) {\r\n    this.props.valueChange(this.props.definition, e.currentTarget.value);\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <textarea id={this.props.uniqueId} value={this.props.value} onChange={this.onTextareaChange} rows={this.props.definition.textRows} />\r\n    );\r\n  }\r\n}","import { IInputComponentProps } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\n\r\nexport class ValuesInputControl extends React.Component<IInputComponentProps> {\r\n  constructor(props: IInputComponentProps) {\r\n    super(props);\r\n    this.onSelectValueChange = this.onSelectValueChange.bind(this);\r\n  }\r\n\r\n  private onSelectValueChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    this.props.valueChange(this.props.definition, e.currentTarget.value);\r\n  };\r\n\r\n  public render() {\r\n    const values = this.props.definition.values || [];\r\n    const options = values.map((item, index) => <option key={index} value={item.value}>{item.text}</option>);\r\n    return (<select id={this.props.uniqueId} value={this.props.value} onChange={this.onSelectValueChange}>\r\n      <option>Select item...</option>\r\n      {options}\r\n    </select>);\r\n  }\r\n}","import { IFieldDefinition } from '@schirkan/reactron-interfaces';\r\nimport { IInputControls, IInputControlsProvider } from '../IInputControls';\r\nimport { ValuesInputControl } from './ValuesInputControl';\r\n\r\nexport class ValuesControlsProvider implements IInputControlsProvider {\r\n  public match(definition: IFieldDefinition): boolean {\r\n    return !!(definition.values && definition.values.length);\r\n  }\r\n\r\n  public get(): IInputControls {\r\n    return {\r\n      inputControl: ValuesInputControl\r\n    };\r\n  }\r\n}","type Callback<TData> = (data?: TData) => any;\r\n\r\nexport class SimpleEvent<TData = undefined> {\r\n    private subscriptions: Array<Callback<TData>> = [];\r\n\r\n    public subscribe(callback: Callback<TData>) {\r\n        this.subscriptions.push(callback);\r\n    }\r\n\r\n    public unsubscribe(callback: Callback<TData>) {\r\n        const index = this.subscriptions.indexOf(callback);\r\n        if (index >= 0) {\r\n            this.subscriptions.splice(index);\r\n        }\r\n    }\r\n\r\n    public async publish(data?: TData): Promise<void> {\r\n        for (const sub of this.subscriptions) {\r\n            await Promise.resolve(sub(data));\r\n        }\r\n    }\r\n}","import { IWebComponentOptions } from \"@schirkan/reactron-interfaces\";\r\nimport * as React from \"react\";\r\nimport { apiClient } from \"src/browser/ApiClient\";\r\nimport { SimpleEvent } from \"./SimpleEvent\";\r\n\r\nexport class OptionsCardContextData {\r\n    public onSave = new SimpleEvent();\r\n    // public onValidate = new SimpleEvent();\r\n    private removedWebComponents: IWebComponentOptions[] = [];\r\n    private changedWebComponents: IWebComponentOptions[] = [];\r\n    private createdWebComponents: IWebComponentOptions[] = [];\r\n\r\n    constructor() {\r\n        this.saveWebComponents = this.saveWebComponents.bind(this);\r\n        this.onSave.subscribe(this.saveWebComponents);\r\n    }\r\n\r\n    private async saveWebComponents(): Promise<void> {\r\n        console.log('removedWebComponents', this.removedWebComponents);\r\n        console.log('createdWebComponents', this.createdWebComponents);\r\n        console.log('changedWebComponents', this.changedWebComponents);\r\n\r\n        // delete webComponents\r\n        for (const item of this.removedWebComponents) {\r\n            await apiClient.deleteWebComponentOptions(item);\r\n        }\r\n\r\n        // add webComponents\r\n        for (const item of this.createdWebComponents) {\r\n            await apiClient.setWebComponentOptions(undefined, item);\r\n        }\r\n\r\n        // change webComponents\r\n        for (const item of this.changedWebComponents) {\r\n            await apiClient.setWebComponentOptions(undefined, item);\r\n        }\r\n\r\n        // reset context\r\n        this.removedWebComponents = [];\r\n        this.changedWebComponents = [];\r\n        this.createdWebComponents = [];\r\n\r\n        // clear cache\r\n        apiClient.getWebComponentOptions.clearCache();\r\n    }\r\n\r\n    public webComponentRemoved(item: IWebComponentOptions) {\r\n        console.log('webComponentRemoved', item);\r\n\r\n        // check if previously created\r\n        const createdItemIndex = this.createdWebComponents.findIndex(x => x.id === item.id);\r\n        if (createdItemIndex >= 0) {\r\n            // remove from createdWebComponents\r\n            this.createdWebComponents.splice(createdItemIndex, 1);\r\n        } else {\r\n            // add to removedWebComponents\r\n            this.removedWebComponents.push(item);\r\n        }\r\n    }\r\n\r\n    public webComponentChanged(item: IWebComponentOptions) {\r\n        console.log('webComponentChanged', item);\r\n\r\n        // check if previously created\r\n        const createdItemIndex = this.createdWebComponents.findIndex(x => x.id === item.id);\r\n        if (createdItemIndex >= 0) {\r\n            // remove old item from createdWebComponents\r\n            this.createdWebComponents.splice(createdItemIndex, 1);\r\n            // and add new item to createdWebComponents\r\n            this.changedWebComponents.push(item);\r\n        } else {\r\n            // remove previously changed items\r\n            this.changedWebComponents = this.changedWebComponents.filter(x => x.id !== item.id);\r\n            // add to changedWebComponents\r\n            this.changedWebComponents.push(item);\r\n        }\r\n    }\r\n\r\n    public webComponentCreated(item: IWebComponentOptions) {\r\n        console.log('webComponentCreated', item);\r\n\r\n        // add to createdWebComponents\r\n        this.createdWebComponents.push(item);\r\n    }\r\n}\r\n\r\nexport const OptionCardContext = React.createContext<OptionsCardContextData>(new OptionsCardContextData());","import * as RegularIcons from '@fortawesome/free-regular-svg-icons';\r\nimport * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IInputComponentProps, IReactronComponentContext, IReactronComponentDefinition, IWebComponentOptions } from '@schirkan/reactron-interfaces';\r\nimport { Guid } from 'guid-typescript';\r\nimport * as React from 'react';\r\nimport { apiClient } from 'src/browser/ApiClient';\r\nimport { getDefaultObjectValue } from 'src/common/optionsHelper';\r\nimport { AdminPageContext } from '../../../AdminPageContext';\r\nimport { OptionCardContext, OptionsCardContextData } from '../../../OptionCard/OptionCardContext';\r\nimport OptionList from '../../../OptionList/OptionList';\r\nimport UiButton from '../../../UiButton/UiButton';\r\n\r\nimport './WebComponentForm.scss';\r\n\r\ninterface IReactronComponentDefinitionItem {\r\n  key: string;\r\n  moduleName: string;\r\n  definition: IReactronComponentDefinition;\r\n}\r\n\r\ninterface IWebComponentFormState {\r\n  loadingWebComponents: boolean\r\n  loadingComponentDefinitions: boolean\r\n  webComponents: IWebComponentOptions[];\r\n  componentDefinitions: IReactronComponentDefinitionItem[];\r\n  selectedComponentDefinition?: IReactronComponentDefinitionItem;\r\n  selectedWebComponentOptions?: IWebComponentOptions;\r\n}\r\n\r\nexport default class WebComponentForm extends React.Component<IInputComponentProps, IWebComponentFormState> {\r\n  public static contextType = OptionCardContext;\r\n  public context: OptionsCardContextData;\r\n  public adminPageContext: IReactronComponentContext;\r\n\r\n  constructor(props: IInputComponentProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loadingWebComponents: true,\r\n      loadingComponentDefinitions: true,\r\n      webComponents: [],\r\n      componentDefinitions: []\r\n    };\r\n\r\n    this.initCurrentComponent = this.initCurrentComponent.bind(this);\r\n    this.onOptionsChange = this.onOptionsChange.bind(this);\r\n    this.removeWebComponent = this.removeWebComponent.bind(this);\r\n    this.onSelectedComponentDefinitionChange = this.onSelectedComponentDefinitionChange.bind(this);\r\n  }\r\n\r\n  private get formEvents(): OptionsCardContextData {\r\n    return this.context as OptionsCardContextData;\r\n  }\r\n\r\n  public componentDidMount() {\r\n    this.loadComponentDefinitions();\r\n    this.loadWebComponents();\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    if (this.state.selectedWebComponentOptions) {\r\n      this.formEvents.webComponentRemoved(this.state.selectedWebComponentOptions);\r\n    }\r\n  }\r\n\r\n  private loadComponentDefinitions() {\r\n    return this.adminPageContext.componentLoader.getAllComponents()\r\n      .then(result => {\r\n        const componentDefinitions: IReactronComponentDefinitionItem[] = [];\r\n        Object.keys(result).forEach(moduleName => {\r\n          const components = result[moduleName];\r\n          components.forEach(definition => {\r\n            const key = moduleName + '.' + definition.name;\r\n            componentDefinitions.push({ moduleName, definition, key });\r\n          });\r\n        });\r\n        this.setState({ componentDefinitions, loadingComponentDefinitions: false },\r\n          this.initCurrentComponent);\r\n      })\r\n      .catch(err => console.log(err)); // TODO\r\n  }\r\n\r\n  private loadWebComponents() {\r\n    return apiClient.getWebComponentOptions()\r\n      .then(webComponents => {\r\n        this.setState({ webComponents, loadingWebComponents: false },\r\n          this.initCurrentComponent);\r\n      })\r\n      .catch(err => console.log(err)); // TODO\r\n  }\r\n\r\n  private initCurrentComponent() {\r\n    if (this.state.loadingWebComponents || this.state.loadingComponentDefinitions) {\r\n      return;\r\n    }\r\n\r\n    if (this.props.value) {\r\n      const selectedWebComponentOptions = this.state.webComponents.find(x => x.id === this.props.value);\r\n      if (selectedWebComponentOptions) {\r\n        const key = selectedWebComponentOptions.moduleName + '.' + selectedWebComponentOptions.componentName;\r\n        const selectedComponentDefinition = this.state.componentDefinitions.find(x => x.key === key);\r\n        if (selectedComponentDefinition) {\r\n          this.setState({ selectedComponentDefinition, selectedWebComponentOptions });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private onSelectedComponentDefinitionChange(e: React.ChangeEvent<HTMLSelectElement>) {\r\n    const newKey = e.currentTarget.value;\r\n\r\n    const selectedComponentDefinition = this.state.componentDefinitions.find(x => x.key === newKey);\r\n    const currentWebComponentOptions = this.state.selectedWebComponentOptions;\r\n    let newWebComponentOptions: IWebComponentOptions | undefined;\r\n\r\n    if (selectedComponentDefinition) {\r\n      const id = currentWebComponentOptions && currentWebComponentOptions.id ||\r\n        selectedComponentDefinition.definition.name + '_' + Guid.raw();\r\n\r\n      newWebComponentOptions = {\r\n        id,\r\n        moduleName: selectedComponentDefinition.moduleName,\r\n        componentName: selectedComponentDefinition.definition.name,\r\n        options: getDefaultObjectValue(selectedComponentDefinition.definition.fields)\r\n      };\r\n    }\r\n\r\n    // trigger id change\r\n    const newId = newWebComponentOptions && newWebComponentOptions.id;\r\n    if (this.props.value !== newId) {\r\n      this.props.valueChange(this.props.definition, newId);\r\n\r\n      if (newWebComponentOptions) {\r\n        // notify component created\r\n        this.formEvents.webComponentCreated(newWebComponentOptions);\r\n      } else if (currentWebComponentOptions) {\r\n        // notify component remove\r\n        this.formEvents.webComponentRemoved(currentWebComponentOptions);\r\n      }\r\n    }\r\n\r\n    this.setState({ selectedWebComponentOptions: newWebComponentOptions, selectedComponentDefinition });\r\n  }\r\n\r\n  private removeWebComponent() {\r\n    if (this.state.selectedWebComponentOptions) {\r\n      // notify component remove\r\n      this.formEvents.webComponentRemoved(this.state.selectedWebComponentOptions);\r\n      this.props.valueChange(this.props.definition, undefined);\r\n      this.setState({ selectedWebComponentOptions: undefined, selectedComponentDefinition: undefined });\r\n    }\r\n  }\r\n\r\n  private onOptionsChange(newOptions: any) {\r\n    if (!this.state.selectedWebComponentOptions) {\r\n      return;\r\n    }\r\n    const newWebComponentOptions = { ...this.state.selectedWebComponentOptions };\r\n    newWebComponentOptions.options = newOptions;\r\n    this.setState({ selectedWebComponentOptions: newWebComponentOptions });\r\n\r\n    // notify component changed\r\n    this.formEvents.webComponentChanged(newWebComponentOptions);\r\n  }\r\n\r\n  public renderComponentSelection() {\r\n    if (this.state.loadingWebComponents || this.state.loadingComponentDefinitions) {\r\n      return null;\r\n    }\r\n\r\n    const selectedComponentKey = this.state.selectedComponentDefinition && this.state.selectedComponentDefinition.key || '';\r\n\r\n    if (this.state.selectedComponentDefinition) {\r\n      return (\r\n        <div className=\"componentTitle\">\r\n          <UiButton>\r\n            <FontAwesomeIcon icon={SolidIcons.faCube} />\r\n          </UiButton>\r\n          <label>\r\n            {this.state.selectedComponentDefinition.definition.displayName} ({this.state.selectedComponentDefinition.moduleName})\r\n          </label>\r\n          <UiButton onClick={this.removeWebComponent}>\r\n            <FontAwesomeIcon icon={RegularIcons.faTrashAlt} />\r\n          </UiButton>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let types = this.state.componentDefinitions.map(x => x.definition.type);\r\n    types = types.filter((v, i, a) => a.indexOf(v) === i);\r\n\r\n    const optionGroups: { [type: string]: IReactronComponentDefinitionItem[] } = {};\r\n    this.state.componentDefinitions.filter(x => x.definition.type !== 'admin-input').forEach(item => {\r\n      const type = item.definition.type || 'content';\r\n      if (!optionGroups[type]) {\r\n        optionGroups[type] = [];\r\n      }\r\n      optionGroups[type].push(item);\r\n    });\r\n\r\n    return (\r\n      <select className=\"componentSelect\" value={selectedComponentKey} onChange={this.onSelectedComponentDefinitionChange}>\r\n        <option key=\"_\" value=\"\">Select Component...</option>\r\n        {/* {this.state.componentDefinitions.map(item =>\r\n          <option key={item.key} value={item.key}>{item.definition.displayName} ({item.moduleName})</option>\r\n        )} */}\r\n        {Object.keys(optionGroups).map(type =>\r\n          <optgroup key={type} label={type}>\r\n            {optionGroups[type].map(item =>\r\n              <option key={item.key} value={item.key}>{item.definition.displayName} ({item.moduleName})</option>\r\n            )}\r\n          </optgroup>\r\n        )}\r\n      </select>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"WebComponentForm\">\r\n        <AdminPageContext.Consumer>\r\n          {value => (this.adminPageContext = value) && null}\r\n        </AdminPageContext.Consumer>\r\n        {this.renderComponentSelection()}\r\n        {this.state.selectedWebComponentOptions &&\r\n          this.state.selectedComponentDefinition && (\r\n            <OptionList value={this.state.selectedWebComponentOptions.options}\r\n              fields={this.state.selectedComponentDefinition.definition.fields}\r\n              valueChange={this.onOptionsChange} />\r\n          )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as RegularIcons from '@fortawesome/free-regular-svg-icons';\r\nimport { IFieldDefinition, IInputComponentProps } from '@schirkan/reactron-interfaces';\r\nimport { IInputControls, IInputControlsProvider } from '../IInputControls';\r\nimport WebComponentForm from './WebComponentForm';\r\n\r\nexport class WebComponentControlsProvider implements IInputControlsProvider {\r\n  public match(definition: IFieldDefinition): boolean {\r\n    return definition.valueType === 'webComponent';\r\n  }\r\n\r\n  public get(): IInputControls {\r\n    return {\r\n      icon: RegularIcons.faFile,\r\n      detailsControl: WebComponentForm,\r\n      inputControl: (props: IInputComponentProps) => {\r\n        return props && props.value || 'none';\r\n      }\r\n    };\r\n  }\r\n}","import { IFieldDefinition, IInputComponentProps, IReactronComponentContext } from '@schirkan/reactron-interfaces';\r\nimport { ArrayControlsProvider } from './ArrayInputControl/ArrayControlsProvider';\r\nimport { BooleanControlsProvider } from './BooleanInputControl/BooleanControlsProvider';\r\nimport { IInputControls, IInputControlsProvider } from './IInputControls';\r\nimport { NumberControlsProvider } from './NumberControlsProvider';\r\nimport { ObjectControlsProvider } from './ObjectControlsProvider';\r\nimport { StyleControlsProvider } from './StyleInputControl/StyleControlsProvider';\r\nimport { TextControlsProvider } from './TextControlsProvider';\r\nimport { ValuesControlsProvider } from './ValuesInputControl/ValuesControlsProvider';\r\nimport { WebComponentControlsProvider } from './WebComponentInputControl/WebComponentControlsProvider';\r\n\r\nconst providers: IInputControlsProvider[] = [\r\n  new ArrayControlsProvider(),\r\n  new ValuesControlsProvider(),\r\n  new ObjectControlsProvider(),\r\n  new StyleControlsProvider(),\r\n  new WebComponentControlsProvider(),\r\n  new BooleanControlsProvider(),\r\n  new TextControlsProvider(),\r\n  new NumberControlsProvider(),\r\n];\r\n\r\nexport const getInputControls = (definition: IFieldDefinition, context: IReactronComponentContext): IInputControls => {\r\n  const provider = providers.find(x => x.match(definition));\r\n  const result = provider && provider.get(definition) || {};\r\n\r\n  if (!definition.isArray) {\r\n    if (definition.inputControl) {\r\n      if (typeof definition.inputControl === 'function') {\r\n        result.inputControl = definition.inputControl;\r\n      } else if (definition.inputControl.module && definition.inputControl.component) {\r\n        const moduleName = definition.inputControl.module;\r\n        const componentName = definition.inputControl.component;\r\n        result.inputControl = (props: IInputComponentProps) => context.renderComponent({ moduleName, componentName, options: props });\r\n      }\r\n    }\r\n\r\n    if (definition.inputForm) {\r\n      if (typeof definition.inputForm === 'function') {\r\n        result.detailsControl = definition.inputForm;\r\n      } else if (definition.inputForm.module && definition.inputForm.component) {\r\n        const moduleName = definition.inputForm.module;\r\n        const componentName = definition.inputForm.component;\r\n        result.detailsControl = (props: IInputComponentProps) => context.renderComponent({ moduleName, componentName, options: props });\r\n      }\r\n    }\r\n  }\r\n\r\n  return result;\r\n};","import * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IFieldDefinition } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport { AdminPageContext } from '../AdminPageContext';\r\nimport UiButton from '../UiButton/UiButton';\r\nimport { getInputControls } from './InputControls/getInputControls';\r\nimport { IInputControls } from \"./InputControls/IInputControls\";\r\n\r\nimport './OptionItem.scss';\r\n\r\nlet counter = 0;\r\n\r\nexport interface IOptionItemProps {\r\n  definition: IFieldDefinition;\r\n  value: any;\r\n  valueChange: (definition: IFieldDefinition, newValue: any) => void;\r\n}\r\n\r\ninterface IOptionItemState extends IInputControls {\r\n  uniqueId: string;\r\n  detailsVisible?: boolean;\r\n}\r\n\r\nexport default class OptionItem extends React.Component<IOptionItemProps, IOptionItemState> {\r\n  public static contextType = AdminPageContext;\r\n\r\n  constructor(props: IOptionItemProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      uniqueId: 'ID' + (counter++)\r\n    };\r\n\r\n    this.toggleItemDetails = this.toggleItemDetails.bind(this);\r\n  }\r\n\r\n  public componentDidMount() {\r\n    const inputControls = getInputControls(this.props.definition, this.context);\r\n    this.setState(inputControls);\r\n  }\r\n\r\n  private toggleItemDetails() {\r\n    this.setState(state => ({ detailsVisible: !state.detailsVisible }));\r\n  }\r\n\r\n  private renderInputRow() {\r\n    const label = (\r\n      <label htmlFor={this.state.uniqueId}>\r\n        {this.props.children}\r\n        {this.state.icon && (<UiButton><FontAwesomeIcon icon={this.state.icon} /></UiButton>)}\r\n        <span className=\"header-text\">{this.props.definition.displayName}</span>\r\n      </label>\r\n    );\r\n\r\n    const input = this.state.inputControl && <this.state.inputControl {...this.props} uniqueId={this.state.uniqueId} /> || '';\r\n\r\n    if (this.state.detailsControl) {\r\n      return (\r\n        <UiButton className=\"item-header\" onClick={this.toggleItemDetails}>\r\n          {label}\r\n          <div className=\"sub-header-text\">{input}</div>\r\n          <UiButton>\r\n            <FontAwesomeIcon icon={this.state.detailsVisible ? SolidIcons.faArrowDown : SolidIcons.faArrowRight} />\r\n          </UiButton>\r\n        </UiButton>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {label}\r\n        {input}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  private renderDetailsForm() {\r\n    if (!this.state.detailsControl) {\r\n      return null;\r\n    }\r\n    return (\r\n      <div className=\"item-details\" hidden={!this.state.detailsVisible} data-isarray={this.props.definition.isArray ? 'true' : 'false'}>\r\n        <this.state.detailsControl {...this.props} uniqueId={this.state.uniqueId} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"OptionItem\"\r\n        data-hasdetails={this.state.detailsControl ? 'true' : 'false'}\r\n        data-detailsvisible={this.state.detailsVisible ? 'true' : 'false'}\r\n        data-valuetype={this.props.definition.valueType}>\r\n        {this.renderInputRow()}\r\n        {this.renderDetailsForm()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { IFieldDefinition } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport OptionItem from '../OptionItem/OptionItem';\r\n\r\nimport './OptionList.scss';\r\n\r\ninterface IOptionListProps {\r\n  fields?: IFieldDefinition[];\r\n  value: object;\r\n  valueChange: (newValue: object) => void;\r\n}\r\n\r\nexport default class OptionList extends React.Component<IOptionListProps> {\r\n  constructor(props: IOptionListProps) {\r\n    super(props);\r\n\r\n    this.valueChange = this.valueChange.bind(this);\r\n  }\r\n\r\n  private valueChange(field: IFieldDefinition, value: any) {\r\n    const newValue = { ...this.props.value };\r\n    newValue[field.name] = value;\r\n    this.props.valueChange(newValue);\r\n  }\r\n\r\n  public render() {\r\n    if (!this.props.fields || !this.props.fields.length) {\r\n      return null;\r\n      // return <span>No options / fields defined</span>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"OptionList\">\r\n        {this.props.fields.map(field => {\r\n          const value = this.props.value && this.props.value[field.name];\r\n          return <OptionItem key={field.name} definition={field} value={value} valueChange={this.valueChange} />;\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { IconProp } from \"@fortawesome/fontawesome-svg-core\";\r\nimport * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IFieldDefinition } from \"@schirkan/reactron-interfaces\";\r\nimport * as React from 'react';\r\nimport { getDefaultFieldValue } from \"src/common/optionsHelper\";\r\nimport OptionList from '../OptionList/OptionList';\r\nimport UiButton from '../UiButton/UiButton';\r\nimport UiCard from '../UiCard/UiCard';\r\nimport UiCardButtonRow from '../UiCardButtonRow/UiCardButtonRow';\r\nimport UiCardContent from '../UiCardContent/UiCardContent';\r\nimport UiCardTitle from '../UiCardTitle/UiCardTitle';\r\nimport { OptionCardContext, OptionsCardContextData } from './OptionCardContext';\r\n\r\nimport './OptionCard.scss';\r\n\r\nexport interface IOptionCardProps {\r\n  className?: string;\r\n  icon: IconProp;\r\n  title: string;\r\n  options: object;\r\n  fields: IFieldDefinition[];\r\n  onSave: (newOptions: object) => any;\r\n  onCancel?: () => any;\r\n  showReset?: boolean;\r\n}\r\n\r\ninterface IOptionCardState {\r\n  newOptions: any;\r\n  formContext: OptionsCardContextData;\r\n}\r\n\r\nexport default class OptionCard extends React.Component<IOptionCardProps, IOptionCardState> {\r\n  constructor(props: IOptionCardProps) {\r\n    super(props);\r\n\r\n    const newOptions = this.setDefaultValues(props.options || {});\r\n\r\n    this.state = {\r\n      newOptions,\r\n      formContext: new OptionsCardContextData()\r\n    };\r\n\r\n    this.cancel = this.cancel.bind(this);\r\n    this.save = this.save.bind(this);\r\n    this.reset = this.reset.bind(this);\r\n    this.optionsChange = this.optionsChange.bind(this);\r\n  }\r\n\r\n  // init fields\r\n  private setDefaultValues(options: object) {\r\n    this.props.fields.forEach(field => {\r\n      let value = options[field.name];\r\n\r\n      if (value === undefined) {\r\n        value = getDefaultFieldValue(field);\r\n        if (value !== undefined) {\r\n          options[field.name] = value;\r\n        }\r\n      }\r\n    });\r\n    return options;\r\n  }\r\n\r\n  private reset() {\r\n    const newOptions = this.setDefaultValues(this.props.options || {});\r\n    this.setState({ newOptions });\r\n  }\r\n\r\n  private async save() {\r\n    await this.state.formContext.onSave.publish();\r\n    return this.props.onSave(this.state.newOptions);\r\n  }\r\n\r\n  private cancel() {\r\n    return this.props.onCancel && this.props.onCancel();\r\n  }\r\n\r\n  private optionsChange(newValue: any) {\r\n    this.setState({ newOptions: newValue });\r\n  }\r\n\r\n  public renderTitle() {\r\n    return (\r\n      <UiCardTitle>\r\n        <FontAwesomeIcon icon={this.props.icon} /> {this.props.title}\r\n      </UiCardTitle>\r\n    );\r\n  }\r\n\r\n  public renderContent() {\r\n    return (\r\n      <OptionCardContext.Provider value={this.state.formContext}>\r\n        <OptionList fields={this.props.fields}\r\n          value={this.state.newOptions}\r\n          valueChange={this.optionsChange}\r\n        />\r\n      </OptionCardContext.Provider>\r\n    );\r\n  }\r\n\r\n  public renderFooter() {\r\n    return (\r\n      <UiCardButtonRow divider=\"half\">\r\n        {this.props.onCancel && (\r\n          <UiButton onClick={this.cancel}>\r\n            <FontAwesomeIcon icon={SolidIcons.faTimes} /> Cancel\r\n          </UiButton>\r\n        )}\r\n        {this.props.showReset && (\r\n        <UiButton onClick={this.reset}>\r\n          <FontAwesomeIcon icon={SolidIcons.faUndo} /> Reset\r\n        </UiButton>\r\n        )}\r\n        <UiButton onClick={this.save}>\r\n          <FontAwesomeIcon icon={SolidIcons.faSave} /> Save\r\n        </UiButton>\r\n      </UiCardButtonRow>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    const className = 'OptionCard ' + this.props.className;\r\n\r\n    return (\r\n      <UiCard className={className}>\r\n        {this.renderTitle()}\r\n        {this.renderContent()}\r\n        <UiCardContent className=\"debug\" style={{ whiteSpace: 'pre' }}>\r\n          {JSON.stringify(this.state.newOptions, undefined, 2)}\r\n        </UiCardContent>\r\n        {this.renderFooter()}\r\n      </UiCard >\r\n    );\r\n  }\r\n}\r\n","import * as RegularIcons from '@fortawesome/free-regular-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IWebPageOptions } from \"@schirkan/reactron-interfaces\";\r\nimport * as React from 'react';\r\nimport UiButton from '../../UiButton/UiButton';\r\nimport UiCard from '../../UiCard/UiCard';\r\nimport UiCardButtonRow from '../../UiCardButtonRow/UiCardButtonRow';\r\nimport UiCardContent from '../../UiCardContent/UiCardContent';\r\nimport UiCardTitle from '../../UiCardTitle/UiCardTitle';\r\n\r\nimport './PageCard.scss';\r\n\r\nexport interface IPageCardProps {\r\n  page: IWebPageOptions;\r\n  onEdit: (page: IWebPageOptions) => any;\r\n  onDelete: (page: IWebPageOptions) => any;\r\n}\r\n\r\nexport default class PageCard extends React.Component<IPageCardProps> {\r\n  constructor(props: IPageCardProps) {\r\n    super(props);\r\n\r\n    this.onEdit = this.onEdit.bind(this);\r\n    this.onDelete = this.onDelete.bind(this);\r\n  }\r\n\r\n  private onEdit() {\r\n    return this.props.onEdit(this.props.page);\r\n  }\r\n\r\n  private onDelete() {\r\n    return this.props.onDelete(this.props.page);\r\n  }\r\n\r\n  public renderTitle() {\r\n    return (\r\n      <UiCardTitle>\r\n        <FontAwesomeIcon icon={RegularIcons.faFile} /> {this.props.page.title} ({this.props.page.path})\r\n      </UiCardTitle>\r\n    );\r\n  }\r\n\r\n  public renderPath() {\r\n    return (\r\n      <UiCardContent className=\"path\">\r\n        {this.props.page.path}\r\n      </UiCardContent>\r\n    );\r\n  }\r\n\r\n  public renderFooter() {\r\n    return (\r\n      <UiCardButtonRow divider=\"half\">\r\n        <UiButton onClick={this.onEdit}>\r\n          <FontAwesomeIcon icon={RegularIcons.faEdit} /> Edit\r\n        </UiButton>\r\n        <UiButton onClick={this.onDelete}>\r\n          <FontAwesomeIcon icon={RegularIcons.faTrashAlt} /> Delete\r\n        </UiButton>\r\n      </UiCardButtonRow>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <UiCard className=\"PageCard\">\r\n        {this.renderTitle()}\r\n        {/* {this.renderPath()} */}\r\n        {this.renderFooter()}\r\n      </UiCard>\r\n    );\r\n  }\r\n}\r\n","import { IFieldDefinition } from '@schirkan/reactron-interfaces';\r\n\r\nexport const pageOptionsFields: IFieldDefinition[] = [{\r\n  description: 'Path',\r\n  defaultValue: '/',\r\n  displayName: 'Path',\r\n  name: 'path',\r\n  valueType: 'string'\r\n}, {\r\n  description: 'Title',\r\n  defaultValue: 'New Page',\r\n  displayName: 'Title',\r\n  name: 'title',\r\n  valueType: 'string'\r\n}, {\r\n  description: 'Content',\r\n  displayName: 'Content',\r\n  name: 'webComponentId',\r\n  valueType: 'webComponent'\r\n}, {\r\n  description: 'Style',\r\n  displayName: 'Style',\r\n  name: 'style',\r\n  valueType: 'style'\r\n}];","import * as RegularIcons from '@fortawesome/free-regular-svg-icons';\r\nimport * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IWebPageOptions } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport { apiClient } from '../../ApiClient';\r\nimport { confirm } from '../confirmDialog';\r\nimport OptionCard from '../OptionCard/OptionCard';\r\nimport UiButton from '../UiButton/UiButton';\r\nimport UiCard from '../UiCard/UiCard';\r\nimport UiFlowLayout from '../UiFlowLayout/UiFlowLayout';\r\nimport UiLoadingCard from '../UiLoadingCard/UiLoadingCard';\r\nimport UiOverlay from '../UiOverlay/UiOverlay';\r\nimport PageCard from './PageCard/PageCard';\r\nimport { pageOptionsFields } from './pageOptionsFields';\r\n\r\nimport './PageManagerPage.scss';\r\n\r\nexport interface IModuleManagerPageState {\r\n  loading: boolean;\r\n  pages: IWebPageOptions[];\r\n  showPageDetailsDialog: boolean;\r\n  selectedPage?: IWebPageOptions;\r\n}\r\n\r\nexport default class PageManagerPage extends React.Component<any, IModuleManagerPageState> {\r\n  constructor(props: any) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: true,\r\n      pages: [],\r\n      showPageDetailsDialog: false\r\n    };\r\n\r\n    this.loadPages = this.loadPages.bind(this);\r\n    this.savePage = this.savePage.bind(this);\r\n    this.deletePage = this.deletePage.bind(this);\r\n    this.hidePageDetailsDialog = this.hidePageDetailsDialog.bind(this);\r\n    this.showPageDetailsDialog = this.showPageDetailsDialog.bind(this);\r\n  }\r\n\r\n  public componentDidMount() {\r\n    this.loadPages();\r\n  }\r\n\r\n  private loadPages(): Promise<void> {\r\n    this.setState({ loading: true });\r\n\r\n    return apiClient.getWebPages()\r\n      .then(pages => this.setState({ pages, loading: false }))\r\n      .catch(err => this.setState({ loading: false })); // TODO\r\n  }\r\n\r\n  private savePage(page: IWebPageOptions): Promise<void> {\r\n    return apiClient.setWebPage(undefined, page)\r\n      .then(this.hidePageDetailsDialog)\r\n      .then(apiClient.getWebPages.clearCache)\r\n      .then(this.loadPages)\r\n      .catch(err => console.log(err)); // TODO\r\n  }\r\n\r\n  private deletePage(page: IWebPageOptions): Promise<void> {\r\n    return apiClient.deleteWebPage(page)\r\n      .then(this.hidePageDetailsDialog)\r\n      .then(apiClient.getWebPages.clearCache)\r\n      .then(this.loadPages)\r\n      .catch(err => console.log(err)); // TODO\r\n  }\r\n\r\n  private showPageDetailsDialog(page?: IWebPageOptions) {\r\n    this.setState({ showPageDetailsDialog: true, selectedPage: page });\r\n  }\r\n\r\n  private hidePageDetailsDialog() {\r\n    this.setState({ showPageDetailsDialog: false, selectedPage: undefined });\r\n  }\r\n\r\n  private renderPageCards() {\r\n    if (this.state.loading) {\r\n      return <UiFlowLayout><UiLoadingCard /></UiFlowLayout>;\r\n    }\r\n\r\n    return (\r\n      <UiFlowLayout>\r\n        {this.state.pages.map((item, index) =>\r\n          <PageCard key={index} page={item} onEdit={this.showPageDetailsDialog}\r\n            onDelete={confirm(this.deletePage, 'Delete?')} />\r\n        )}\r\n      </UiFlowLayout>\r\n    );\r\n  }\r\n\r\n  private renderPageAddCard() {\r\n    return (\r\n      <UiFlowLayout>\r\n        <UiCard className=\"AddPageCard\">\r\n          <UiButton className=\"addButton\" onClick={this.showPageDetailsDialog}>\r\n            <FontAwesomeIcon icon={SolidIcons.faPlus} /> Add Page\r\n          </UiButton>\r\n        </UiCard>\r\n      </UiFlowLayout>\r\n    );\r\n  }\r\n\r\n  private renderPageDetailsDialog() {\r\n    if (!this.state.showPageDetailsDialog) {\r\n      return null;\r\n    }\r\n\r\n    const page = this.state.selectedPage;\r\n    const title = page ? 'Edit Page' : 'Add Page';\r\n\r\n    return (\r\n      <UiOverlay>\r\n        <OptionCard icon={RegularIcons.faFile}\r\n          title={title} fields={pageOptionsFields}\r\n          onSave={this.savePage} onCancel={this.hidePageDetailsDialog} options={page || {}}\r\n        />\r\n      </UiOverlay>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <section className=\"PageManagerPage\">\r\n        {this.renderPageAddCard()}\r\n        {this.renderPageCards()}\r\n        {this.renderPageDetailsDialog()}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './RoundButton.scss';\r\n\r\nexport interface IRoundButtonProps {\r\n  to: string;\r\n}\r\n\r\nexport default class RoundButton extends React.Component<IRoundButtonProps> {\r\n  public render() {\r\n    return <Link className=\"RoundButton\" to={this.props.to} role=\"button\">{this.props.children}</Link>;\r\n  }\r\n}\r\n","import * as RegularIcons from '@fortawesome/free-regular-svg-icons';\r\nimport * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IServiceRepositoryItem } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport UiButton from '../../UiButton/UiButton';\r\nimport UiCard from '../../UiCard/UiCard';\r\nimport UiCardButtonRow from '../../UiCardButtonRow/UiCardButtonRow';\r\nimport UiCardContent from '../../UiCardContent/UiCardContent';\r\nimport UiCardTitle from '../../UiCardTitle/UiCardTitle';\r\n\r\nimport './ServiceCard.scss';\r\n\r\nexport interface IServiceCardProps {\r\n  service: IServiceRepositoryItem;\r\n  onShowLog: (service: IServiceRepositoryItem) => void;\r\n  onShowOptions: (service: IServiceRepositoryItem) => void;\r\n}\r\n\r\nexport default class ServiceCard extends React.Component<IServiceCardProps> {\r\n  constructor(props: IServiceCardProps) {\r\n    super(props);\r\n\r\n    this.showOptions = this.showOptions.bind(this);\r\n    this.showLog = this.showLog.bind(this);\r\n  }\r\n\r\n  private showOptions() {\r\n    return this.props.onShowOptions(this.props.service);\r\n  }\r\n\r\n  private showLog() {\r\n    return this.props.onShowLog(this.props.service);\r\n  }\r\n\r\n  public renderTitle() {\r\n    return (\r\n      <UiCardTitle>\r\n        <FontAwesomeIcon icon={SolidIcons.faCogs} /> {this.props.service.name}\r\n      </UiCardTitle>\r\n    );\r\n  }\r\n\r\n  public renderDescription() {\r\n    return (\r\n      <UiCardContent className=\"description\">\r\n        {this.props.service.description || 'no description'}\r\n      </UiCardContent>\r\n    );\r\n  }\r\n\r\n  public renderFooter() {\r\n    return (\r\n      <UiCardButtonRow divider=\"half\">\r\n        <UiButton onClick={this.showLog}>\r\n          <FontAwesomeIcon icon={RegularIcons.faFile} /> Log\r\n        </UiButton>\r\n        <UiButton onClick={this.showOptions}>\r\n          <FontAwesomeIcon icon={SolidIcons.faCog} /> Options\r\n        </UiButton>\r\n      </UiCardButtonRow>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <UiCard className=\"ServiceCard\">\r\n        {this.renderTitle()}\r\n        {this.renderDescription()}\r\n        {this.renderFooter()}\r\n      </UiCard>\r\n    );\r\n  }\r\n}\r\n","import * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IServiceRepositoryItem } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport UiButton from '../../UiButton/UiButton';\r\nimport UiFlowLayout from '../../UiFlowLayout/UiFlowLayout';\r\nimport ServiceCard from '../ServiceCard/ServiceCard';\r\n\r\nimport './ServiceGroup.scss';\r\n\r\nexport interface IModuleManagerPageProps {\r\n  services: IServiceRepositoryItem[];\r\n  moduleName: string;\r\n  onShowServiceLog: (service: IServiceRepositoryItem) => any;\r\n  onShowServiceOptions: (service: IServiceRepositoryItem) => any;\r\n}\r\n\r\nexport interface IModuleManagerPageState {\r\n  groupOpen: boolean;\r\n}\r\n\r\nexport default class ServiceGroup extends React.Component<IModuleManagerPageProps, IModuleManagerPageState> {\r\n  constructor(props: any) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      groupOpen: false\r\n    };\r\n\r\n    this.toggleGroup = this.toggleGroup.bind(this);\r\n  }\r\n\r\n  private toggleGroup() {\r\n    this.setState(state => ({ groupOpen: !state.groupOpen }));\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <section className=\"ServiceGroup\">\r\n        <UiButton className=\"group-header\" onClick={this.toggleGroup}>\r\n          <FontAwesomeIcon icon={SolidIcons.faCube} /> {this.props.moduleName} ({this.props.services.length})\r\n          <FontAwesomeIcon icon={this.state.groupOpen ? SolidIcons.faArrowDown : SolidIcons.faArrowRight} />\r\n        </UiButton>\r\n        {this.state.groupOpen && (\r\n          <UiFlowLayout>\r\n            {this.props.services.map(item =>\r\n              <ServiceCard key={item.name} service={item} onShowLog={this.props.onShowServiceLog} onShowOptions={this.props.onShowServiceOptions} />\r\n            )}\r\n          </UiFlowLayout>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}","import * as RegularIcons from '@fortawesome/free-regular-svg-icons';\r\nimport * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { IServiceRepositoryItem } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport { apiClient } from '../../ApiClient';\r\nimport Loading from '../Loading/Loading';\r\nimport OptionCard from '../OptionCard/OptionCard';\r\nimport UiButton from '../UiButton/UiButton';\r\nimport UiCard from '../UiCard/UiCard';\r\nimport UiCardButtonRow from '../UiCardButtonRow/UiCardButtonRow';\r\nimport UiCardContent from '../UiCardContent/UiCardContent';\r\nimport UiCardTitle from '../UiCardTitle/UiCardTitle';\r\nimport UiLoadingCard from '../UiLoadingCard/UiLoadingCard';\r\nimport UiOverlay from '../UiOverlay/UiOverlay';\r\nimport ServiceGroup from './ServiceGroup/ServiceGroup';\r\n\r\nimport './ServiceManagerPage.scss';\r\n\r\nexport interface IModuleManagerPageState {\r\n  loadingServices: boolean;\r\n  loadingServiceOptions: boolean;\r\n  services: IServiceRepositoryItem[];\r\n  showOptions: boolean,\r\n  showLog: boolean,\r\n  selectedService: IServiceRepositoryItem | undefined;\r\n  selectedServiceOptions: any;\r\n}\r\n\r\nexport default class ServiceManagerPage extends React.Component<any, IModuleManagerPageState> {\r\n  constructor(props: any) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loadingServices: true,\r\n      loadingServiceOptions: false,\r\n      services: [],\r\n      showOptions: false,\r\n      showLog: false,\r\n      selectedService: undefined,\r\n      selectedServiceOptions: undefined\r\n    };\r\n\r\n    this.showLog = this.showLog.bind(this);\r\n    this.closeLog = this.closeLog.bind(this);\r\n    this.showOptions = this.showOptions.bind(this);\r\n    this.closeOptions = this.closeOptions.bind(this);\r\n    this.loadOptions = this.loadOptions.bind(this);\r\n    this.saveOptions = this.saveOptions.bind(this);\r\n    this.optionsChange = this.optionsChange.bind(this);\r\n  }\r\n\r\n  public componentDidMount() {\r\n    this.loadServices();\r\n  }\r\n\r\n  public loadServices() {\r\n    return apiClient.getAllServices()\r\n      .then(services => this.setState({ services, loadingServices: false }))\r\n      .catch(err => this.setState({ loadingServices: false })); // TODO\r\n  }\r\n\r\n  private showLog(service: IServiceRepositoryItem) {\r\n    this.setState({ showLog: true, selectedService: service });\r\n  }\r\n\r\n  private showOptions(service: IServiceRepositoryItem) {\r\n    this.setState({\r\n      showOptions: true,\r\n      selectedService: service,\r\n      selectedServiceOptions: undefined\r\n    }, this.loadOptions);\r\n  }\r\n\r\n  private closeOptions() {\r\n    this.setState({ showOptions: false, selectedService: undefined });\r\n  }\r\n\r\n  private closeLog() {\r\n    this.setState({ showLog: false, selectedService: undefined });\r\n  }\r\n\r\n  private loadOptions() {\r\n    if (!this.state.selectedService) {\r\n      return;\r\n    }\r\n\r\n    this.setState({ loadingServiceOptions: true });\r\n\r\n    apiClient.getServiceOptions({\r\n      moduleName: this.state.selectedService.moduleName,\r\n      serviceName: this.state.selectedService.name\r\n    })\r\n      .then(options => {\r\n        this.setState({ selectedServiceOptions: options, loadingServiceOptions: false })\r\n      });\r\n  }\r\n\r\n  private optionsChange(newOptions: any) {\r\n    this.setState({ selectedServiceOptions: newOptions })\r\n  }\r\n\r\n  private saveOptions(newOptions: any) {\r\n    if (!this.state.selectedService) {\r\n      return;\r\n    }\r\n\r\n    apiClient.setServiceOptions({\r\n      moduleName: this.state.selectedService.moduleName,\r\n      serviceName: this.state.selectedService.name\r\n    },\r\n      newOptions\r\n    );\r\n\r\n    this.closeOptions();\r\n  }\r\n\r\n  private renderServiceOptionsDialog() {\r\n    if (!this.state.showOptions || !this.state.selectedService) {\r\n      return null;\r\n    }\r\n    if (this.state.loadingServiceOptions) {\r\n      return <UiOverlay><UiLoadingCard /></UiOverlay>;\r\n    }\r\n\r\n    const title = 'Options for ' + this.state.selectedService.displayName;\r\n\r\n    return (\r\n      <UiOverlay>\r\n        <OptionCard icon={SolidIcons.faCogs} showReset={true}\r\n          title={title} fields={this.state.selectedService.fields || []}\r\n          options={this.state.selectedServiceOptions}\r\n          onSave={this.saveOptions} onCancel={this.closeOptions}\r\n        />\r\n      </UiOverlay>\r\n    );\r\n  }\r\n\r\n  private renderServiceLogDialog() {\r\n    if (!this.state.showLog || !this.state.selectedService) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <UiOverlay>\r\n        <UiCard className=\"ServiceLogCard\">\r\n          <UiCardTitle>\r\n          <FontAwesomeIcon icon={RegularIcons.faFile} /> Log for {this.state.selectedService.displayName}\r\n          </UiCardTitle>\r\n          <UiCardContent>\r\n            <ul>\r\n              {this.state.selectedService.log.map(item => (\r\n                <li>{item}</li>\r\n              ))}\r\n            </ul>\r\n          </UiCardContent>\r\n          <UiCardButtonRow divider=\"full\">\r\n            <UiButton onClick={this.closeLog}>\r\n              <FontAwesomeIcon icon={SolidIcons.faTimes} /> Close\r\n            </UiButton>\r\n          </UiCardButtonRow>\r\n        </UiCard>\r\n      </UiOverlay>\r\n    );\r\n  }\r\n\r\n  private renderServiceGroups() {\r\n    if (this.state.loadingServices) {\r\n      return <Loading center={true} />;\r\n    }\r\n\r\n    const groups = this.state.services.map(x => x.moduleName).filter(onlyUnique);\r\n\r\n    return groups.map(moduleName => {\r\n      const services = this.state.services.filter(x => x.moduleName === moduleName); // TODO: .sort((a, b) => a.displayName > b.displayName)\r\n      return (\r\n        <ServiceGroup key={moduleName} moduleName={moduleName} services={services}\r\n          onShowServiceLog={this.showLog} onShowServiceOptions={this.showOptions} />\r\n      );\r\n    });\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <section className=\"ServiceManagerPage\">\r\n        {this.renderServiceGroups()}\r\n        {this.renderServiceOptionsDialog()}\r\n        {this.renderServiceLogDialog()}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nfunction onlyUnique(value: any, index: number, self: any[]) {\r\n  return self.indexOf(value) === index;\r\n}","import { IInputComponentProps, IReactronComponentContext, IWebPageOptions } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport { apiClient } from 'src/browser/ApiClient';\r\n\r\nexport interface IPageInputControlState {\r\n  pages: IWebPageOptions[];\r\n}\r\n\r\nexport class PageInputControl extends React.Component<IInputComponentProps, IPageInputControlState> {\r\n  public context: IReactronComponentContext;\r\n\r\n  constructor(props: IInputComponentProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      pages: []\r\n    };\r\n\r\n    this.onSelectValueChange = this.onSelectValueChange.bind(this);\r\n  }\r\n\r\n  public componentDidMount() {\r\n    apiClient.getWebPages().then(pages => this.setState({ pages }));\r\n  }\r\n\r\n  private onSelectValueChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    this.props.valueChange(this.props.definition, e.currentTarget.value);\r\n  };\r\n\r\n  public render() {\r\n    const options = this.state.pages.map(page => <option key={page.id} value={page.path}>{page.title} ({page.path})</option>);\r\n    return (<select id={this.props.uniqueId} value={this.props.value} onChange={this.onSelectValueChange}>\r\n      <option>Select page...</option>\r\n      {options}\r\n    </select>);\r\n  }\r\n}","import { IFieldDefinition } from '@schirkan/reactron-interfaces';\r\nimport moment from 'moment';\r\nimport momentTimezone from 'moment-timezone';\r\nimport { PageInputControl } from './PageInputControl';\r\n\r\ninterface ITimezone {\r\n  value: string;\r\n  text: string;\r\n}\r\n\r\nconst timezoneNames = momentTimezone.tz.names();\r\nconst timezones: ITimezone[] = [];\r\n\r\ntimezoneNames.forEach(timezone => {\r\n  timezones.push({\r\n    text: \"(GMT\" + moment.tz(timezone).format('Z') + \") \" + timezone.replace('_', ' '),\r\n    value: timezone\r\n  });\r\n});\r\n\r\ntimezones.sort((a, b) => a.text.localeCompare(b.text));\r\n\r\nexport const systemSettingsFields: IFieldDefinition[] = [{\r\n  description: 'Language',\r\n  displayName: 'Language',\r\n  name: 'lang',\r\n  valueType: 'string',\r\n  values: [\r\n    { value: 'de', text: 'German' },\r\n    { value: 'en', text: 'English' },\r\n    { value: 'fr', text: 'French' },\r\n    { value: 'es', text: 'Spanish' },\r\n    { value: 'it', text: 'Italian' },\r\n    { value: 'ru', text: 'Russian' },\r\n  ]\r\n}, {\r\n  description: 'Location',\r\n  displayName: 'Location',\r\n  name: 'location',\r\n  valueType: 'string'\r\n}, {\r\n  description: 'Timezone',\r\n  displayName: 'Timezone',\r\n  name: 'timezone',\r\n  valueType: 'string',\r\n  values: [...timezones]\r\n}, {\r\n  description: 'Path of page to show on startup',\r\n  displayName: 'Startup Path',\r\n  name: 'startupPath',\r\n  valueType: 'string',\r\n  inputControl: PageInputControl\r\n}];","import * as SolidIcons from '@fortawesome/free-solid-svg-icons';\r\nimport { ISystemSettings } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport { apiClient } from '../../ApiClient';\r\nimport OptionCard from '../OptionCard/OptionCard';\r\nimport UiFlowLayout from '../UiFlowLayout/UiFlowLayout';\r\nimport UiLoadingCard from '../UiLoadingCard/UiLoadingCard';\r\nimport { systemSettingsFields } from './systemSettingsFields';\r\n\r\nimport './SettingsManagerPage.scss';\r\n\r\nexport interface IModuleManagerPageState {\r\n  loading: boolean;\r\n  settings?: ISystemSettings;\r\n}\r\n\r\nexport default class SettingsManagerPage extends React.Component<any, IModuleManagerPageState>{\r\n  constructor(props: any) {\r\n    super(props);\r\n\r\n    this.state = { loading: true };\r\n\r\n    this.loadSettings = this.loadSettings.bind(this);\r\n    this.saveSettings = this.saveSettings.bind(this);\r\n  }\r\n\r\n  public componentDidMount() {\r\n    this.loadSettings();\r\n  }\r\n\r\n  public loadSettings(): Promise<void> {\r\n    return apiClient.getSettings()\r\n      .then(settings => this.setState({ settings, loading: false }))\r\n      .catch(); // TODO\r\n  }\r\n\r\n  public saveSettings(newSettings: ISystemSettings): Promise<void> {\r\n    return apiClient.setSettings(undefined, newSettings)\r\n      .then(apiClient.getSettings.clearCache)\r\n      .catch(); // TODO\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <section className=\"SettingsManagerPage\">\r\n        {this.state.loading && (\r\n          <UiFlowLayout>\r\n            <UiLoadingCard />\r\n          </UiFlowLayout>\r\n        )}\r\n        {this.state.settings && (\r\n          <UiFlowLayout>\r\n            <OptionCard options={this.state.settings} onSave={this.saveSettings}\r\n              fields={systemSettingsFields} icon={SolidIcons.faCogs}\r\n              title=\"Settings\" showReset={true}\r\n            />\r\n          </UiFlowLayout>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import * as SvgIcons from '@fortawesome/free-solid-svg-icons';\r\nimport * as FontAwesome from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { IServerInfo } from 'src/common/interfaces/IServerInfo';\r\nimport { apiClient } from '../../ApiClient';\r\nimport { confirm } from '../confirmDialog';\r\nimport UiButton from '../UiButton/UiButton';\r\nimport UiCard from '../UiCard/UiCard';\r\nimport UiCardButtonRow from '../UiCardButtonRow/UiCardButtonRow';\r\nimport UiCardContent from '../UiCardContent/UiCardContent';\r\nimport UiCardTitle from '../UiCardTitle/UiCardTitle';\r\nimport UiFlowLayout from '../UiFlowLayout/UiFlowLayout';\r\n\r\nimport './SystemPage.scss';\r\n\r\ninterface ISystemPageState {\r\n  info?: IServerInfo;\r\n}\r\n\r\nexport default class SystemPage extends React.Component<any, ISystemPageState> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {};\r\n\r\n    this.exitApplication = this.exitApplication.bind(this);\r\n    this.restartApplication = this.restartApplication.bind(this);\r\n    this.shutdownSystem = this.shutdownSystem.bind(this);\r\n    this.rebootSystem = this.rebootSystem.bind(this);\r\n    this.resetApplication = this.resetApplication.bind(this);\r\n  }\r\n\r\n  public componentDidMount() {\r\n    apiClient.getServerInfo().then(info => this.setState({ info }));\r\n  }\r\n\r\n  // TODO: confirm dialog\r\n\r\n  private exitApplication() {\r\n    return apiClient.exitApplication();\r\n  }\r\n\r\n  private restartApplication() {\r\n    return apiClient.restartApplication();\r\n  }\r\n\r\n  private shutdownSystem() {\r\n    return apiClient.shutdownSystem();\r\n  }\r\n\r\n  private rebootSystem() {\r\n    return apiClient.rebootSystem();\r\n  }\r\n\r\n  private resetApplication() {\r\n    return apiClient.resetApplication();\r\n  }\r\n\r\n  private renderLoadingDots() {\r\n    return <span className=\"loadingDots\" />;\r\n  }\r\n\r\n  private renderApplicationCard() {\r\n    return (\r\n      <UiCard>\r\n        <UiCardTitle>Application</UiCardTitle>\r\n        <UiCardContent>\r\n          <div className=\"infoRow\">\r\n              <span>Version</span>\r\n              <span>{this.state.info ? this.state.info.version : this.renderLoadingDots()}</span>\r\n          </div>\r\n        </UiCardContent>\r\n        <UiCardButtonRow divider=\"half\">\r\n          <UiButton onClick={this.exitApplication}>\r\n            <FontAwesome.FontAwesomeIcon icon={SvgIcons.faSignOutAlt} /> Exit\r\n          </UiButton>\r\n          <UiButton onClick={this.restartApplication}>\r\n            <FontAwesome.FontAwesomeIcon icon={SvgIcons.faRedo} /> Restart\r\n          </UiButton>\r\n        </UiCardButtonRow>\r\n      </UiCard>\r\n    );\r\n  }\r\n\r\n  private renderSystemCard() {\r\n    const free = this.state.info ? Math.round(this.state.info.memory.free / 1024 / 1024) : 0;\r\n    const total = this.state.info ? Math.round(this.state.info.memory.total / 1024 / 1024) : 0;\r\n    const memInfo = this.state.info ? (free + 'MB / ' + total + 'MB') : '';\r\n    const cpuInfo = this.state.info ? (this.state.info.cpu.count + 'x' + this.state.info.cpu.speed + 'MHz') : '';\r\n\r\n    return (\r\n      <UiCard>\r\n        <UiCardTitle>System</UiCardTitle>\r\n        <UiCardContent>\r\n          <div className=\"infoRow\">\r\n            <span>CPU</span>\r\n            <span>{this.state.info ? cpuInfo : this.renderLoadingDots()}</span>\r\n          </div>\r\n          <div className=\"infoRow\">\r\n            <span>Memory</span>\r\n            <span>{this.state.info ? memInfo : this.renderLoadingDots()}</span>\r\n          </div>\r\n          <div className=\"infoRow\">\r\n            <span>IP</span>\r\n            <span>{this.state.info ? this.state.info.ip : this.renderLoadingDots()}</span>\r\n          </div>\r\n          <div className=\"infoRow\">\r\n            <span>Hostname</span>\r\n            <span>{this.state.info ? this.state.info.hostname : this.renderLoadingDots()}</span>\r\n          </div>\r\n        </UiCardContent>\r\n        <UiCardButtonRow divider=\"half\">\r\n          <UiButton onClick={this.shutdownSystem}>\r\n            <FontAwesome.FontAwesomeIcon icon={SvgIcons.faPowerOff} /> Shutdown\r\n          </UiButton>\r\n          <UiButton onClick={this.rebootSystem}>\r\n            <FontAwesome.FontAwesomeIcon icon={SvgIcons.faRedo} /> Reboot\r\n          </UiButton>\r\n        </UiCardButtonRow>\r\n      </UiCard>\r\n    );\r\n  }\r\n\r\n  private renderDangerCard() {\r\n    return (\r\n      <UiCard className=\"danger\">\r\n        <UiCardTitle>Danger Zone</UiCardTitle>\r\n        <UiCardButtonRow>\r\n          <UiButton onClick={confirm(this.resetApplication, 'Reset?')}>\r\n            <FontAwesome.FontAwesomeIcon icon={SvgIcons.faExclamationTriangle} /> Reset Application\r\n          </UiButton>\r\n        </UiCardButtonRow>\r\n      </UiCard>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <section className=\"SystemPage\">\r\n        <UiFlowLayout>\r\n          {this.renderApplicationCard()}\r\n          {this.renderSystemCard()}\r\n          {this.renderDangerCard()}\r\n        </UiFlowLayout>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import * as SvgIcons from '@fortawesome/free-solid-svg-icons';\r\nimport * as FontAwesome from '@fortawesome/react-fontawesome';\r\nimport { IReactronComponentContext } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom'\r\nimport { AdminPageContext } from '../AdminPageContext';\r\nimport ModuleManagerPage from '../ModuleManagerPage/ModuleManagerPage';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport PageManagerPage from '../PageManagerPage/PageManagerPage';\r\nimport RoundButton from '../RoundButton/RoundButton';\r\nimport ServiceManagerPage from '../ServiceManagerPage/ServiceManagerPage';\r\nimport SettingsManagerPage from '../SettingsManagerPage/SettingsManagerPage';\r\nimport SystemPage from '../SystemPage/SystemPage';\r\n\r\nimport './Admin.scss';\r\n\r\nexport default class Admin extends React.Component {\r\n  public context: IReactronComponentContext;\r\n\r\n    public render() {\r\n    return (\r\n      <AdminPageContext.Provider value={this.context}>\r\n        <section className=\"Admin\">\r\n          <header>\r\n            <RoundButton to=\"/\">\r\n              <FontAwesome.FontAwesomeIcon icon={SvgIcons.faHome} /> Home\r\n            </RoundButton>\r\n            <div className=\"title\">Reactron Admin</div>\r\n          </header>\r\n          <Navigation />\r\n          <div className=\"content\">\r\n            <Switch>\r\n              <Route path=\"/admin/ModuleManager\" component={ModuleManagerPage} />\r\n              <Route path=\"/admin/ServiceManager\" component={ServiceManagerPage} />\r\n              <Route path=\"/admin/Pages\" component={PageManagerPage} />\r\n              <Route path=\"/admin/Settings\" component={SettingsManagerPage} />\r\n              <Route path=\"/admin/System\" component={SystemPage} />\r\n              <Redirect to=\"/admin/ModuleManager\" />\r\n            </Switch>\r\n          </div>\r\n        </section>\r\n      </AdminPageContext.Provider>\r\n    );\r\n  }\r\n}\r\n","import { IReactronComponentDefinition } from '@schirkan/reactron-interfaces';\r\nimport Admin from './components/Admin/Admin';\r\n\r\nexport const components: IReactronComponentDefinition[] = [{\r\n    component: Admin,\r\n    description: 'Admin Front End',\r\n    displayName: 'Reactron Admin',\r\n    name: 'Admin',\r\n    fields: []\r\n}];"],"names":["React.createContext","tslib_1.__extends","React.createElement","classname","FontAwesome.FontAwesomeIcon","SvgIcons.faSpinner","React.Component","SolidIcons.faPlus","SolidIcons.faTimes","SolidIcons.faCheck","SolidIcons.faQuestion","React.Fragment","SolidIcons.faStarOfLife","SolidIcons.faCube","BrandIcons.faGithub","SolidIcons.faCog","SolidIcons.faDownload","SolidIcons.faTrashAlt","SolidIcons.faSyncAlt","Guid","RegularIcons.faTrashAlt","RegularIcons.faArrowAltCircleUp","RegularIcons.faArrowAltCircleDown","SolidIcons.faList","BrandIcons.faCss3","RegularIcons.faFile","SolidIcons.faArrowDown","SolidIcons.faArrowRight","SolidIcons.faUndo","SolidIcons.faSave","RegularIcons.faEdit","SolidIcons.faCogs","SvgIcons.faSignOutAlt","SvgIcons.faRedo","SvgIcons.faPowerOff","SvgIcons.faExclamationTriangle","SvgIcons.faHome"],"mappings":"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"}